<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Building Frysk</title>
<link rel="stylesheet" type="text/css"
 href="../mainstyle.css"/ >
</head>

<body>

<div id="main_title">Frysk</div>

<div style="margin: 10px;">

<h1>Building <em>frysk</em> From Source</h1>

This page provides guidelines for building <em>frysk</em>, checked out
from CVS, on a number of systems.

<dl>

<dt><strong>Set up your system's build environment</strong></dt>

<dd>

First you will need to set up your system's build environment so that
all its prerequesits are met.

<dl>

<dt><em>Red Hat Enterprise Linux 4</em></dt>

<dd>

<em>frysk</em> requres Java-GNOME bindings, and a number of other
libraries, which are not part of the base RHEL 4 distribution.  All
the required libraries are included in the <em>frysk</em> RPM, a
source code snapshot of that RPM can be found <a
href="ftp://sources.redhat.com/pub/frysk/RHEL-4/">here</a>.

<ul>

<li>Ensure that that gcc4 is installed (while these notes were written
using <tt>gcc4 (GCC) 4.0.1 20050727 (Red Hat 4.0.1-4.EL4.2)</tt> from
RHEL-4 U2, the RHEL-4 U3 compiler is strongly recommended)

<li>Download, build and install the RHEL-4 SRC RPM, or install the
<em>frysk</em> binary RPM from Red Hat Network.

</ul>

</dd>

<dt><em>Fedora Core 5</em></dt>

<dd>

With the release of Fedora Core 5 Test-2 it is possible to build and
run <em>frysk</em> using the distributed rpms.  <br>Please note:

<ul>

<li>FC-5 GCC's prior to <tt>gcc-4.1.0-0.14</tt> had serious
regressions

<li>Either <tt>selinux</tt> is disabled, or its database is
up-to-date.  Otherwize <tt>gij</tt> and <tt>gcj-dbtool</tt> behave
wierd; and <tt>/proc</tt> will not be accessable

<li>All required packages are installed (others?); using
yum:<br><tt>sudo yum install antlr transfig gcc-java libgcj-devel
gcc-c++ cvs jdom libgtk-java-devel cairo-java-devel glib-java-devel
libvtej-ava-devel</tt>

<li>the <tt>java-1.4.2-gcj-compat</tt> is not required (but doesn't
hurt)

<li>A regression common to both the <tt>2.6.15-1.1826.2.5_FC5</tt>
kernel and its upstream counterpart prevents the tracking of a
multi-threaded programs that make execve calls (the kernel
spontaneously kills the program).

</ul>

</dd>

<dt><em>Fedora Core 4</em></dt>

<dd>

The RPM's that <em>frysk</em> require are not a part of the standard
Fedora Core 4 distribution, additional RPMs need to be downloaded and
installed.

<ul>

<li><tt>gcj 4.0.2-8.fc4</tt> has a number of serious regressions that
result in Internal Compiler Errors when building <em>frysk</em>; if at
all possible install a slightly newer or older compiler

<li>Install <tt>eclipse-ecj</tt><br> <tt>gcj</tt>'s front end has bugs
that can be worked around by instead using this compiler.

<li>Add the <em>frysk</em> yum repository<br> Copy the file <a
href="ftp://sources.redhat.com/pub/frysk/build/frysk.repo"><tt>frysk.repo</tt></a>
in your <tt>/etc/yum.repos.d/</tt> directory (you will need to be
root).

<li>Install the non-standard <em>frysk</em> libraries by running the
command (<strong>note the quotes</strong>):<br>

<tt>$ yum --exclude <strong>'</strong>*debuginfo<strong>'</strong> install <strong>'</strong>frysk-*<strong>'</strong></tt>

</ul>

</dd>

<dt><em>Ubuntu (Breazy Badger)</em></dt>

<dd>

If you're trying to build <em>fryks</em> on Breezy Badger, contact us
on either <tt><em>frysk</em>@</tt> mailing list, or the <a
href="irc://gimp.net/frysk"><tt>#<em>frysk</em</tt></a> IRC channel.
There is a <a
href="http://sourceware.org/bugzilla/show_bug.cgi?id=1976">
<em>frysk</em> Ubuntu tracker</a>. <br> So far the following fixes
have been identified:

<ul>

<li>Make certain that <tt>automake-1.9</tt> is installed and selected
as the default: <br> <tt>$ sudo aptitude install automake1.9</tt> <br>
<tt>$ sudo update-alternatives --display automake</tt> <br>
<tt>...</tt> <br> <tt>$ sudo update-alternatives --set automake
/usr/bin/automake-1.9</tt>

<li>Per <a
href="http://java-gnome.sourceforge.net/cgi-bin/bin/view/Main/GetJavaGnome">Get
Java Gnome</a>, append <tt>deb
http://www.natemccallum.com/uploads/debs/ ./</tt> to
<tt>/etc/apt/sources.list</tt> and then install the the java-gnome
stuff vis: <br> <tt>$ sudo aptitude install libglade-java libgtk-java
libglade2-dev libvte-dev</tt> <br> <tt>$ pkg-config --modversion
gtk2-java</tt> <br> <tt>2.8.1</tt>

<li>the libvte-java bindings are missing <br> hack around this by
disabling the code using vte (there isn't much)

<li>The compiler is too old and buggy.

</ul>

</dd>

</dl>

<dt><strong>Check out <em>frysk</em> from CVS</strong><dt>

<dd><tt>$ cvs -d :pserver:anoncvs@sources.redhat.com:/cvs/src co
frysk</tt></dd>

<dt><strong>Create the configuration files</strong></dt>

<dd><tt>$ ( cd frysk && ./autogen.sh )</tt></dd>

<dt><strong>Create and configure the build directory</strong></dt>

<dd><tt>$ ( mkdir build && cd build && ../frysk/configure )</tt><dd>

<dt><strong>Verify the build environment (optional)</strong></dt>

<dd>

Both the <tt>frysk-imports</tt> and <tt>frysk-gtk</tt> directories
include tests to ensure that the build system (compiler, kernel, and
libraries) are working correctly.  Any FAILing tests should be
investigated (XFAIL and XPASS tests are ok).<br><tt>$ ( cd
build/frysk-imports/tests && make check )</tt><br><tt>$ ( cd
build/frysk-gtk/tests && make check )</tt></dd>

<dt><strong>Build</strong></dt>

<dd><tt>$ ( cd build && make -j2 )</tt></dd>

<dt><strong>Test</strong></dt>

<dd><tt>$ ( cd build && make check )</tt></dd>

<dt><strong><em>frysk</em> can then either be run from the build tree
...</strong></dd>

<dd><tt>$ ./build/frysk-gui/frysk/gui/FryskGui</tt></dd>

<dt><strong>... or installed and run from there</strong></dt>

<dd>
<tt>$ ( cd build && sudo make install )</tt><br>
<tt>$ frysk</tt>
</dd>

</dl>

</div>

</body>
</html>
