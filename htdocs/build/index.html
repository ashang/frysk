<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Building Frysk</title>
<link rel="stylesheet" type="text/css"
 href="../mainstyle.css"/ >
</head>

<body>

<div id="main_title">Frysk</div>

<div style="margin: 10px;">

<h1>Building <em>frysk</em> From Source</h1>

This page provides guidelines for building <em>frysk</em>, checked out
from CVS, on a number of systems.

<dl>

<dt><strong>Set up your system's build environment</strong></dt>

<dd>

First you will need to set up your system's build environment so that
all its prerequesits are met.

<dl>

<dt><em>Red Hat Enterprise Linux 4</em></dt>

<dd>

<em>frysk</em> requres Java-GNOME bindings, and a number of other
libraries, which are not part of the base RHEL 4 distribution.  All
the required libraries are included in the <em>frysk</em> RPM, a
source code snapshot of that RPM can be found <a
href="ftp://sources.redhat.com/pub/frysk/RHEL-4/">here</a>.

<ul>

<li>Ensure that that gcc4 is installed (while these notes were written
using <tt>gcc4 (GCC) 4.0.1 20050727 (Red Hat 4.0.1-4.EL4.2)</tt> from
RHEL-4 U2, the RHEL-4 U3 compiler is strongly recommended)

<li>Download, build and install the RHEL-4 SRC RPM, or install the
<em>frysk</em> binary RPM from Red Hat Network.

</ul>

</dd>

<dt><em>Fedora Core 5</em></dt>

<dd>

All of the RPM's required by <em>frysk</em> are included in Fedora
Core 5:

<ul>

<li>Update to at least <tt>gcc (GCC) 4.1.0 20051212 (Red Hat
4.1.0-0.7)</tt>

<li>Ensure that <tt>selinux</tt> is either disabled, or its database
is up-to-date (otherwize <tt>gij</tt> and <tt>gcj-dbtool</tt> behave
wierd).

<li>Install (at least) <tt> junit antlr transfig gcc-java gcc-c++ cvs
</tt>

<li>As of 2005-12-15 an up-to-date jdom package wasn't available; you
can work a round this by finding a jdom.jar and setting:<br><tt>$
export JDOM_JAR=<path-to>/jdom.jar</tt><br> before running configure.


</ul>

</dd>

<dt><em>Fedora Core 4</em></dt>

<dd>

The RPM's that <em>frysk</em> require are not a part of the standard
Fedora Core 4 distribution.  Additional RPMs need to be downloaded and
installed.  In addition the <tt>gcj</tt> compiler has problems.

<ul>

<li>Install <tt>eclipse-ecj</tt><br> The bundled <tt>gcj</tt> compiler
contains a number of bugs; they can be worked around by using
<tt>ecj</tt>.

<li>Add the <em>frysk</em> yum repository<br> Copy the file <a
href="ftp://sources.redhat.com/pub/frysk/build/frysk.repo"><tt>frysk.repo</tt></a>
in your <tt>/etc/yum.repos.d/</tt> directory (you'll need to be root).

<li>Install the non-standard <em>frysk</em> libraries by running the
command (<strong>note the quotes</strong>):<br>

<tt>$ yum --exclude <strong>'</strong>*debuginfo<strong>'</strong> install <strong>'</strong>frysk-*<strong>'</strong></tt>

</ul>

</dd>

<dt><em>Ubuntu (Breazy Badger)</em></dt>

<dd>

If you're trying to build <em>fryks</em> on Breezy Badger, contact us
on either <tt><em>frysk</em>@</tt> mailing list, or the <a
href="irc://gimp.net/frysk"><tt>#<em>frysk</em</tt></a> IRC channel.
So far the following problems have been identified:

<ul>

<li>The compiler is too old and buggy.

<li>The gtk2-java bindings are too old, version 2.6.2 is provided,
2.7.0 is required, the latest version is 2.8.2

<li>The glib-java bindings are missing.

<li>The default <tt>automake</tt> is version 1.4 (serious!)  is too
old. <br> You'll need to install <tt>automake17</tt> and then hand
configure the directories.

</ul>

</dd>

</dl>

<dt><strong>Check out <em>frysk</em> from CVS</strong><dt>

<dd><tt>$ cvs -d :pserver:anoncvs@sources.redhat.com:/cvs/src co
frysk</tt></dd>

<dt><strong>Create the configuration files</strong></dt>

<dd><tt>$ ( cd frysk && ./autogen.sh )</tt></dd>

<dt><strong>Create and configure the build directory</strong></dt>

<dd><tt>$ ( mkdir build && cd build && ../frysk/configure )</tt><dd>

<dt><strong>Test the build environment (optional)</strong></dt>

<dd>This runs a number of tests against both the system's kernel and
compiler.  Any FAILs (not XFAILs) indicate a likely problem with the
build system (bugs that have been worked around will XFAIL or
XPASS).<br><tt>$ ( cd build/frysk-imports/tests && make check
)</tt></dd>

<dt><strong>Build</strong></dt>

<dd><tt>$ ( mkdir build && cd build && ../frysk/configure && make -j2
)</tt><dd>

<dt><strong><em>frysk</em> can then either be run from the build tree
...</strong></dd>

<dd><tt>$ ./build/frysk-gui/frysk/gui/FryskGui</tt></dd>

<dt><strong>... or installed and run from there</strong></dt>

<dd>
<tt>$ ( cd build && make install )</tt><br>
<tt>$ frysk</tt>
</dd>

</dl>

</div>

</body>
</html>
