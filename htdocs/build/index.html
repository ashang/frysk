<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Building Frysk</title>
<link rel="stylesheet" href="../frysk.css" type="text/css">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta http-equiv="Content-Style-Type" content="text/css">
</head>

<body>

<table cellspacing="2" cellpadding="2" border="0" width="100%">
<tr>
    <td valign="bottom" height="80"><img src="../frysklogo.png" alt="Frysk logo"></td>
    <td valign="bottom" class="topnavright" align="right"><a href="../">Overview</a>&nbsp;|&nbsp;<a href="../usecases/">Use Cases</a>&nbsp;|&nbsp;<a href="../questions/">Questions</a>&nbsp;|&nbsp;<a href="../getinvolved/">Get Involved</a>&nbsp;|&nbsp;<a href="../documentation/">Documentation</a>&nbsp;|&nbsp;<a href="../links/">Links</a></td>
</tr>
</table>
<div class="mainbackground">
<div class="maintextregion"><img src="../fryskcorner.gif">
<table cellspacing="2" cellpadding="4" border="0" width="99%" style="margin-top:17;">
<tr>
    <td width="200">&nbsp;</td>
    <td valign="bottom"><h1>Building <em>frysk</em> From Source</h1></td>
</tr>
<tr>
    <td>&nbsp;</td>
    <td valign="top">

<p>
This page provides guidelines for building <em>frysk</em>, checked out
from CVS, on a number of systems.
</p>

<h2>Set up your system's build environment</h2>

<p>
First you will need to set up your system's build environment so that
all its prerequesits are met.
</p>

<dl>

<dt><a name="rhel4"></a>Red Hat Enterprise Linux 4</dt>

<dd>

Red Hat Enterprise Linux 4 Update 3 includes <tt>gcc4</tt> and
<tt><em>frysk</em></tt> RPM's that include everything needed to build
<em>frysk</em> from CVS; just install those RPM's. <br> If you've an
earlier RHEL 4 release, sources for the compiler and <em>frysk</em>
libraries can be found <a
href="ftp://sources.redhat.com/pub/frysk/RHEL-4/">here</a>

<br>

For additional updates, check Red Hat Enterprise Linux 4's tracker
bug's <a
href="http://sourceware.org/bugzilla/showdependencytree.cgi?id=2004">dependency
tree</a>.

</dd>

<dt><a name="fc5">Fedora Core 5</a></dt>

<dd>

With the release of Fedora Core 5 Test 2 it is possible to build and
run <em>frysk</em> using the distributed rpms.  Just note:

<ul>

<li>

Either <tt>selinux</tt> should be disabled, or its database updated.
Otherwize <tt>gij</tt> and <tt>gcj-dbtool</tt> behave wierd; and
<tt>/proc</tt> will not be accessable

<li>

A regression common to both the <tt>2.6.15-1.1826.2.5_FC5</tt> kernel
and its upstream counterpart prevents the tracking of a multi-threaded
programs that make execve calls (the kernel spontaneously kills the
program).

<li>
You will need to install a number of packages vis:
<pre>
sudo yum install antlr jdom glib-java libgtk-java \
libvte-java vte-devel libglade-java gcc-java
</pre>

</ul>

For additional updates, check Fedora Core 5's tracker bug's <a
href="http://sourceware.org/bugzilla/showdependencytree.cgi?id=2104">dependency
tree</a>

</dd>

<dt><a name="fc4">Fedora Core 4</a></dt>

<dd>

Both the compiler needs to be updated, and additional libraries need
to be built and installed:

<ul>

<li>

<tt>gcj 4.0.2-8.fc4</tt> has a number of serious bugs. <br> Download,
build, and install a snapshot of the RHEL-4 gcc4 compiler (found <a
href="ftp://sources.redhat.com/pub/frysk/RHEL-4/">here</a>).

<li>

Download, build, and install the RHEL 4 jumbo <em>frysk</em> RPM
(found <a href="ftp://sources.redhat.com/pub/frysk/RHEL-4/">here</a>).
You will need to change these two lines in <tt>frysk.spec</tt>: <br>

<pre>
#define frysk_gcc_prefix /usr/bin/
#define frysk_gcc_suffix 4
</pre>

so that they describe the location of the above installed compiler:
<br>

<pre>
%define frysk_gcc_prefix /path/to/up-to-date/gcc/
%define frysk_gcc_suffix %{nil}
</pre>

</ul>

For additional updates, check Fedora Core 4's tracker bug's <a
href="http://sourceware.org/bugzilla/showdependencytree.cgi?id=1975">dependency
tree</a>.

</dd>

<dt><a name="ubuntu">Ubuntu (Breezy Badger)</a></dt>

<dd>

While it's a bit of a struggle, it is possible to build <em>frysk</em>
on Ubuntu:

<ul>

<li>

<tt>gcc 4.0.1-4ubuntu9</tt> has a number of serious bugs. <br>
Download, build, and install a snapshot of the RHEL-4 gcc4 compiler
(found <a href="ftp://sources.redhat.com/pub/frysk/RHEL-4/">here</a>).

<li>

Make certain that <tt>automake-1.9</tt> is installed and selected as
the default:
<pre>
$ sudo aptitude install automake1.9
$ sudo update-alternatives --display automake
$ sudo update-alternatives --set automake /usr/bin/automake-1.9
</pre>

<li>

Per <a
href="http://java-gnome.sourceforge.net/cgi-bin/bin/view/Main/GetJavaGnome">Get
Java Gnome</a>, append the line:
<pre>
http://www.natemccallum.com/uploads/debs/ ./
</pre>
to the file:
<pre>
/etc/apt/sources.list
</pre>
and then install the java-gnome stuff vis:
<pre>
$ sudo aptitude install libglade-java libgtk-java libglade2-dev libvte-dev
$ pkg-config --modversion gtk2-java
2.8.1
</pre>

<li>

<tt>jdom</tt> had problems building; there appears to be some missing
.jar dependencies. <br> Grabbing the jdom out of the RHEL-4 mega-rpm
and building that worked.

<li>

The libvte-java bindings are missing. <br> You can hack around this by
disabling the code using vte (there isn't much)

</ul>

For additional updates, check Ubuntu' tracker bug's <a
href="http://sourceware.org/bugzilla/showdependencytree.cgi?id=1976">dependency
tree</a>.

</dd>

</dl>

<h2>Check out <em>frysk</em> from CVS</h2>

<pre>
$ cvs -d :pserver:anoncvs@sources.redhat.com:/cvs/src co frysk
</pre>

<h2>Create the configuration files</h2>

<pre>
$ ( cd frysk && ./autogen.sh )
</pre>

<h2>Create and configure the build directory</h2>

<pre>
$ ( mkdir build && cd build && ../frysk/configure )
</pre>

<h2>Verify the build environment (optional)</h2>

<p>
Both the <tt>frysk-imports</tt> and <tt>frysk-gtk</tt> directories
include tests to ensure that the build system (compiler, kernel, and
libraries) are working correctly.  Any FAILing tests should be
investigated (XFAIL and XPASS tests are ok).</p>

<pre>
$ ( cd build/frysk-imports/tests && make check )
$ ( cd build/frysk-gtk/tests && make check )
</pre>

<h2>Build</h2>

<dd><tt>$ ( cd build && make -j2 )</tt></dd>

<h2>Test</h2>

<dd><tt>$ ( cd build && make check )</tt></dd>

<h2>Run</h2>

<p><em>frysk</em> can then either be run from the build tree ...</p>

<pre>
$ ./build/frysk-gui/frysk/gui/FryskGui
</pre>

<p>... or installed and run from there</p>

<pre>
$ ( cd build && sudo make install )
$ frysk
</pre>

</table>
</div>
</div>

<table cellspacing="2" cellpadding="2" border="0" width="100%">
<tr><td align="center" class="footer"><a href="http://sources.redhat.com">sources.redhat.com</a></td></tr>
</table>

</body>
</html>
