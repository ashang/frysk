<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Building Frysk</title>
<link rel="stylesheet" type="text/css"
 href="../mainstyle.css"/ >
</head>

<body>

<div id="main_title">Frysk</div>

<div style="margin: 10px;">

<h1>Building <em>frysk</em> From Source</h1>

This page provides guidelines for building <em>frysk</em>, checked out
from CVS, on a number of systems.

<dl>

<dt><strong>Set up your system's build environment</strong></dt>

<dd>

First you will need to set up your system's build environment so that
all its prerequesits are met.

<dl>

<dt><em>Red Hat Enterprise Linux 4</em></dt>

<dd>

Red Hat Enterprise Linux 4 Update 3 includes <tt>gcc4</tt> and
<tt><em>frysk</em></tt> RPM's that include everything needed to build
<em>frysk</em> from CVS; just install those RPM's. <br> If you've an
earlier RHEL 4 release, sources for the compiler and <em>frysk</em>
libraries can be found <a
href="ftp://sources.redhat.com/pub/frysk/RHEL-4/">here</a>

</dd>

<dt><em>Fedora Core 5</em></dt>

<dd>

With the release of Fedora Core 5 Test 2 it is possible to build and
run <em>frysk</em> using the distributed rpms.  Just note:

<ul>

<li>

Either <tt>selinux</tt> should be disabled, or its database updated.
Otherwize <tt>gij</tt> and <tt>gcj-dbtool</tt> behave wierd; and
<tt>/proc</tt> will not be accessable

<li>

A regression common to both the <tt>2.6.15-1.1826.2.5_FC5</tt> kernel
and its upstream counterpart prevents the tracking of a multi-threaded
programs that make execve calls (the kernel spontaneously kills the
program).

<li>
You will need to have the following packages installed: <tt>antlr</tt>,
<tt>jdom</tt>, <tt>glib-java</tt>, <tt>libgtk-java</tt>,
<tt>libvte-java</tt>, <tt>vte-devel</tt>, <tt>libglade-java</tt> and
<tt>gcc-java</tt>.

</ul>

</dd>

<dt><em>Fedora Core 4</em></dt>

<dd>

Both the compiler needs to be updated, and additional libraries need
to be built and installed:

<ul>

<li>

<tt>gcj 4.0.2-8.fc4</tt> has a number of serious bugs. <br> Download,
build, and install a snapshot of the RHEL-4 gcc4 compiler (found <a
href="ftp://sources.redhat.com/pub/frysk/RHEL-4/">here</a>).

<li>

Download, build, and install the RHEL 4 jumbo <em>frysk</em> RPM
(found <a href="ftp://sources.redhat.com/pub/frysk/RHEL-4/">here</a>).
You will need to change these two lines in <tt>frysk.spec</tt>: <br>

<tt>&nbsp;&nbsp;%define gccp /usr/bin/</tt><br>
<tt>&nbsp;&nbsp;%define gccs 4</tt><br>

so that they describe the location of the above installed compiler:
<br>

<tt>&nbsp;&nbsp;%define gccp /path/to/up-to-date/gcc/</tt> </br>
<tt>&nbsp;&nbsp;%define gccs %{nil}</tt>

</ul>

</dd>

<dt><em>Ubuntu (Breazy Badger)</em></dt>

<dd>

While it's a bit of a struggle, it is possible to build <em>frysk</em>
on Ubuntu:

<ul>

<li>

<tt>gcc 4.0.1-4ubuntu9</tt> has a number of serious bugs. <br>
Download, build, and install a snapshot of the RHEL-4 gcc4 compiler
(found <a href="ftp://sources.redhat.com/pub/frysk/RHEL-4/">here</a>).

<li>

Make certain that <tt>automake-1.9</tt> is installed and selected as
the default: <br> <tt>&nbsp;&nbsp;$ sudo aptitude install
automake1.9</tt> <br> <tt>&nbsp;&nbsp;$ sudo update-alternatives
--display automake</tt> <br> <tt>&nbsp;&nbsp;...</tt> <br>
<tt>&nbsp;&nbsp;$ sudo update-alternatives --set automake
/usr/bin/automake-1.9</tt>

<li>

Per <a
href="http://java-gnome.sourceforge.net/cgi-bin/bin/view/Main/GetJavaGnome">Get
Java Gnome</a>, append the line: <br> <tt>&nbsp;&nbsp;deb
http://www.natemccallum.com/uploads/debs/ ./</tt> <br> to the file:
<br> <tt>&nbsp;&nbsp;/etc/apt/sources.list</tt> <br> and then install
the the java-gnome stuff vis: <br> <tt>&nbsp;&nbsp;$ sudo aptitude
install libglade-java libgtk-java libglade2-dev libvte-dev</tt> <br>
<tt>&nbsp;&nbsp;$ pkg-config --modversion gtk2-java</tt> <br>
<tt>&nbsp;&nbsp;2.8.1</tt>

<li>

<tt>jdom</tt> had problems building; there appears to be some missing
.jar dependencies. <br> Grabbing the jdom out of the RHEL-4 mega-rpm
and building that worked.

<li>

The libvte-java bindings are missing. <br> You can hack around this by
disabling the code using vte (there isn't much)

</ul>

</dd>

</dl>

<dt><strong>Check out <em>frysk</em> from CVS</strong><dt>

<dd><tt>$ cvs -d :pserver:anoncvs@sources.redhat.com:/cvs/src co
frysk</tt></dd>

<dt><strong>Create the configuration files</strong></dt>

<dd><tt>$ ( cd frysk && ./autogen.sh )</tt></dd>

<dt><strong>Create and configure the build directory</strong></dt>

<dd><tt>$ ( mkdir build && cd build && ../frysk/configure )</tt><dd>

<dt><strong>Verify the build environment (optional)</strong></dt>

<dd>

Both the <tt>frysk-imports</tt> and <tt>frysk-gtk</tt> directories
include tests to ensure that the build system (compiler, kernel, and
libraries) are working correctly.  Any FAILing tests should be
investigated (XFAIL and XPASS tests are ok).<br><tt>$ ( cd
build/frysk-imports/tests && make check )</tt><br><tt>$ ( cd
build/frysk-gtk/tests && make check )</tt></dd>

<dt><strong>Build</strong></dt>

<dd><tt>$ ( cd build && make -j2 )</tt></dd>

<dt><strong>Test</strong></dt>

<dd><tt>$ ( cd build && make check )</tt></dd>

<dt><strong><em>frysk</em> can then either be run from the build tree
...</strong></dd>

<dd><tt>$ ./build/frysk-gui/frysk/gui/FryskGui</tt></dd>

<dt><strong>... or installed and run from there</strong></dt>

<dd>
<tt>$ ( cd build && sudo make install )</tt><br>
<tt>$ frysk</tt>
</dd>

</dl>

</div>

</body>
</html>
