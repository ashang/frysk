2006-01-19  Rick Moseley  <rmoseley@redhat.com>

	* Fix so %{prefix} is used for frysk.desktop and
	   fryskTrayIcon48.png so installation is done properly.

2006-01-18  Rick Moseley  <rmoseley@redhat.com>

	* Makefile.gen.sh: added install logic for the
	   frysk.desktop and fryskTrayIcon files.

2006-01-16  Rick Moseley  <rmoseley@redhat.com>
	
	* Makefile.gen.sh: added 48 dir for images.

2006-01-14  Diego Novillo  <dnovillo@redhat.com>

	* acinclude.m4: Use lib64 if appropriate.

2005-12-15  Adam Jocksch  <ajocksch@redhat.com>

	* Makefile.gen.sh (find_images): Added.

	* Makefile.gen.sh: Changed find commands to use -path with -name 
	instead of -wholename, since that predicate doesn't exist on RHEL4.

2005-12-14  Adam Jocksch  <ajocksch@redhat.com>

	* Makefile.gen.sh: Added more complex targets for images that
	preserve the tree structure of the images directory.
	
2005-12-13  Andrew Cagney  <cagney@redhat.com>

	* m4/ac_find_file.m4: Fix escaping, [${$3}], not $$1.

	* version.in: Change version schema to MAJOR MINOR PATCHLEVEL YYYY
	MM DD, roll patch level to 1 -> 0.0.1.2005.12.13.

	* Makefile.am (EXTRA_DIST): For files in common, include
	$(srcdir).  Ensures that wild cards match the correct files.

2005-12-12  Andrew Cagney  <cagney@redhat.com>

	* Makefile.gen.sh (.java): Skip .java files when there is a
	corresponding .g or .sed file.

2005-12-10  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (MKJAVA): Use $(JV_SCAN).
	* acinclude.m4 (JV_SCAN): Check for jv-scan.

	* m4/frysk_pkg_module_variable.m4: Delete hack to work around
	broken pkg-config information.

2005-12-09  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (EXTRA_DIST): Add common/ChangeLog, common/*.m4,
	common/*.sh, and common/m4/*.m4.

	* acinclude.m4: Delete checks for gtk+-2.0, gtk2-java, glade-java,
	glib-java, and vte-java.

	* m4/frysk_pkg_module_variable.m4: New file.

2005-12-08  Andrew Cagney  <cagney@redhat.com>

	* acinclude.m4: Add checks for gtk2-java, glade-java, glib-java,
	vte-java, and gtk+-2.0.  Moved from frysk-gui, and frysk-imports
	configure.ac.

	* m4/frysk_find_jar.m4: New file.

	* m4/ac_find_file.m4: Only do search if variable not already set.

	* Makefile.rules (.a.so): Fix --soname parameter, strip out any
	directory prefix.
	
	* Makefile.rules (EXTRA_DIST): Add common/m4/ac_find_file.m4, and
	common/m4/ac_get_lib_line.m4.

2005-12-05  Stan Cox  <scox@redhat.com>

	* TestRunner.sh: Remove -log option. Add -level option.

2005-12-02  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (EXTRA_DIST): Add common/version.in and
	autogen.sh.

2005-11-30  Andrew Cagney  <cagney@redhat.com>

	* acinclude.m4 (JAVACFLAGS): Handle JAVAC that contains an
	absolute path.

2005-11-29  Andrew Cagney  <cagney@redhat.com>

	* acinclude.m4 (AC_CHECK_PROGS([JAVAC]): Check for javac last..

2005-11-28  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (.shjava.java): Add CC to the environment.

	* acinclude.m4 (AC_CHECK_PROGS([JAVA]): Add.
	(AC_CHECK_PROGS([GIJ]): Add.
	
	* Makefile.gen.sh (.db): Use $(GCJ_DBTOOL).

	* acinclude.m4 (AC_CHECK_PROGS([GCJ_DBTOOL]): Check for
	gcj-dbtool4, not gcj4-dbtool.

	* acinclude.m4 (AC_CHECK_PROGS([JAR]): Check for fastjar first.

2005-11-28  Adam Jocksch  <ajocksch@redhat.com>

	* acinclude.m4 (JAVACFLAGS): Now sets -classpath and -sourcepath for
	ecj.

2005-11-28  Andrew Cagney  <cagney@redhat.com>

	* Makefile.gen.sh: Do not define GEN_BUILT_H, GEN_BUILT_MKJAVA and
	GEN_BUILT_SHJAVA.
	* Makefile.rules: Delete references to GEN_BUILT_MKJAVA and
	SHJAVA_BUILT.

	* Makefile.gen.sh (GEN_NODIST): Define.
	(.g): For .g files generate BUILT_SOURCES, GEN_NODIST, CLEANFILES,
	and rule.
	
	* Makefile.gen.sh (.fig): Add .fig files to EXTRA_DIST.

	* acinclude.m4 (AC_PROG_CXX, AC_PROG_CC): Provide explict list.
	(AC_CHECK_PROGS([GCJ])): Add, hacks around AM_PROG_GCJ breakage.
	(AC_CHECK_PROGS([JAR]), AC_CHECK_PROGS([GCJH]),
	AC_CHECK_PROGS([GCJ_DBTOOL])): Add.
	* Makefile.rules (GCJH): Delete definition; defined by
	acinclude.m4.
	(.jar.db): Replace gcj-dbtool with $(GCJ_DBTOOL).
	

2005-11-26  Andrew Cagney  <cagney@redhat.com>

	* acinclude.m4 (JAVACFLAGS): For gcj, use -classpath not
	-sourcepath.

2005-11-25  Andrew Cagney  <cagney@redhat.com>

	* Makefile.gen.sh ($(dir).jar): Use $(JAR).

	* acinclude.m4 (JAVAC): Default to GCJ.
	(JAR): Check for jar/fastjar.

	* Makefile.gen.sh: When making .jar targets in sub-directories, do
	not specify name of .jar file.

2005-11-22  Stan Cox  <scox@redhat.com>

	* TestRunner.sh: Add -log option.

2005-11-22  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (distclean-cvsignored): New target; delete
	anything listed in .cvsignore.
	
	* Makefile.rules (.javain.java): Set VERSION.

	* version.ac: New file.  Move version.in logic to here.

	* version.in: New file, moved from top-level.

2005-11-21  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (.java.classes): Delete rule.
	* Makefile.gen.sh: Do not generate .classes.o dependency.  Do not
	add a .java file to GEN_SOURCES when there is a .javain.

	* Makefile.gen.sh ($(GEN_CLASSDIR)/files): Only add files starting
	with a letter.

	* Makefile.gen.sh ($(GEN_CLASSDIR)/files): Ignore '*#*' files.

2005-11-16  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (gij.sh): Append any existing CLASSPATH value to
	the frysk CLASSPATH.
	(GEN_GCJ_RPATHS): Strip out trailing <</./>>.

2005-11-16  Igor Foox  <ifoox@redhat.com>

	* Makefile.gen.sh: Added an empty lib${_dir}_so_SOURCES to supress the build
	from looking for lib${dir}.c. Added an empty libfrysk_$1_so_SOURCES to
	supress the build from looking a .c file for every .so.

2005-11-15  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (fryski): New program.
	(gij.sh): Re-implement.
	(GEN_GCJ_SO_FLAGS, GEN_GCJ_SO_DIRS): New, list of -L/-l flags.
	(GEN_GCJ_RPATHS, GEN_GCJ_RPATH_FLAGS): Use.

	* Makefile.gen.sh ($(GEN_CLASSDIR)/files): Filter out duplicate
	directories.
	
	* Makefile.rules (solib_PROGRAMS): Rename solib_DATA.
	* Makefile.gen.sh: Ditto.

2005-11-14  Andrew Cagney  <cagney@redhat.com>

	* Makefile.gen.sh: Handle libexecdir/.
	* Makefile.rules (GEN_GCJ_RPATHS): Define.  Fix expansion
	resulting in % in GEN_GCJ_RPATH.
	(libexec_PROGRAMS, sbin_PROGRAMS): Define.

	* Makefile.gen.sh: Add TestRunner.sh to classes/files.
	
	* Makefile.rules (javadir, java_DATA): Define.
	* Makefile.gen.sh: Add ${dir}.jar to java_DATA, delete
	${_dir}_jar_SOURCES.

	* Makefile.rules (LIBJUNIT): Delete.
	(GEN_CLASSPATH): Do not add junit.jar.

	* Makefile.gen.sh: Add frysk- prefix to any .a or .so libraries.
	* Makefile.rules (GEN_CLASSPATH, LIBJUNIT): Update.

	* Makefile.rules (.java.h): Change $ to $$ in shell command.

	* Makefile.gen.sh: Append -Djava.library.path=..., and
	-Wl,-rpath,... to each program's LDFLAGS.  Add all .so's to
	solib_DATA so that they are installed.
	* Makefile.rules (GEN_GCJ_RPATH, GEN_GCJ_RPATH_FLAGS): Define.
	(BUILD_GCJ_RPATH): Define.
	(TestRunner_LDFLAGS): Add $(GEN_GCJ_RPATH_FLAGS).

2005-11-13  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (GEN_BUILT_CLASSES): Delete.
	* Makefile.gen.sh: Rewrite .java -> .class .jar rule to comile
	everything at once.

2005-11-12  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (.java.h): Replace .classes.h rule.

2005-11-07  Andrew Cagney  <cagney@redhat.com>

	* TestRunner.sh: Add a -<repeat> option.

2005-11-02  Adam Jocksch  <ajocksch@redhat.com>

	* Makefile.gen.sh: Added rule to copy over test .cpp files after a 
	make install.

2005-11-02  Igor Foox  <ifoox@redhat.com>

	 * m4/ac_get_lib_line.m4, m4/ac_find_file.m4: Add copyright statement.

2005-11-01  Igor Foox  <ifoox@redhat.com>

	* acinclude.m4: Fixed ordering of macro calls.

	* Makefile.rules: Added ACLOCAL_AMFLAGS = -I common/m4 to include local
	macros. 
	* m4: New directory.
	* m4/ac_get_lib_line.m4: New file.
	* m4/ac_find_file.m4: New file.

2005-10-31  Andrew Cagney  <cagney@redhat.com>

	* TestRunner.sh: Print PASS when a test does not FAIL or ERROR.

	* Makefile.rules: Fix typo, $(FIG2DEV) not $FIG2DEV.

2005-10-31  Igor Foox  <ifoox@redhat.com>

	* acinclude.m4: Added a check for fig2dev.
	* Makefile.rules: Changed all references to fig2dev to $FIG2DEV.

2005-10-26  Igor Foox  <ifoox@redhat.com>

	* Makefile.rules: Added EXCEPTION to the EXTRA_DIST target to distribute
	this file in every of the main 4 frysk subdirectories (sys, gui, common,
	imports).

2005-10-25  Igor Foox  <ifoox@redhat.com>

	* Makefile.rules (clean-local-po): Fix clean to delete all .Po files.
	
2005-10-22  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (AM_CXXFLAGS): Fix -I argument, $(top_builddir),
	not $(top_buildir).

2005-10-18  Igor Foox  <ifoox@redhat.com>

	* Makefile.rules: Added TestRunner.sh to EXTRA_DIST.
	* Makefile.gen.sh: Added .hxx to .c and .cxx suffixes so that .hxx files are
	now also distributed. Removed line in jar_print function that generated
	automake warnings.

2005-10-14  Igor Foox  <ifoox@redhat.com>

	* Makefile.rules: Added an EXTRA_DIST variable and set it to hold
	Makefile.gen.sh, and mkjava.sh, as these are needed in the distributed
	tar.gz.

2005-10-12  Adam Jocksch  <ajocksch@redhat.com>

	* Makefile.rules: Changed @propertydir@ to @pkgdatadir@.
	Added substitutions for pkglibdir and pkgincludedir.

2005-10-12  Adam Jocksch  <ajocksch@redhat.com>

	* Makefile.gen.sh: Added rule to copy over .properties files after
	make install.

	* Makefile.rules: Added substitution for @propertydir@.

2005-10-12  Igor Foox  <ifoox@redhat.com>

	* Makefile.gen.sh, Makefile.rules: Added xxx_SOURCES targets to ensure
	that automake will not automatically infere an xxx.c dependency for
	an xxx.db or xxx.jar file (also gij.sh).

2005-10-12  Adam Jocksch  <ajocksch@redhat.com>

	* Makefile.gen.sh: Added frysk/gui/images to the files that will be
	copied over during 'make install'.

	* Makefile.rules: Added substitution for @imagedir@ to add IMAGEDIR
	constant to frysk-core/frysk/Config.javain

2005-10-11  Andrew Cagney  <cagney@redhat.com>

	* TestRunner.sh: Add .printProblem to print the Throwable in short
	form.  Call from .addError, and .addFailure.  Delete the
	.printDefects stub so that the stack is printed at the end of the
	run.

2005-10-08  Andrew Cagney  <cagney@redhat.com>

	* TestRunner.sh: Add class Results, extends ResultPrinter.  Use
	Results to print each failure as soon as it occures.

2005-10-03  Andrew Cagney  <cagney@redhat.com>

	* Makefile.gen.sh (GEN_ARGS): Define.
	(GEN_JARS): Set to expanded list of jar files, make
	GEN_BUILT_CLASSES dependant on GEN_JARS.
	* Makefile.rules (Makefile.gen): Pass GEN_ARGS to Makefile.gen.sh.

2005-09-30  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (.javain.java): Substitue abs_builddir,
	abs_srcdir, bindir, libdir, and libexecdir.

2005-09-22  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (JAVACFLAGS), acinclude.m4 (JAVACFLAGS): Only add
	-warn:+semicolon when ECJ.

	* Makefile.gen.sh: Update, install files from bindir/ into bin/,
	and sbindir/ into sbin/.

2005-09-21  Andrew Cagney  <cagney@redhat.com>

	* mkjava.sh: Generate a toPrintString method that takes a default
	value.
	* Makefile.rules ($(GEN_BUILT_MKJAVA)): Depend on $(MKJAVA).

2005-09-19  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (.javain.java): Set builddir and srcdir.

2005-09-16  Andrew Cagney  <cagney@redhat.com>

	* Makefile.gen.sh: Generate GEN_FIG.
	* Makefile.rules: Add rules to build .jpg, .pdf, .eps, .gif and
	.txt files from a .fig file.

2005-09-13  Andrew Cagney  <cagney@redhat.com>

	* Makefile.gen.sh (JARS): Add sub-directory .jar files to
	BUILT_SOURCES; add rule to recursively build sub directory .jar
	files.

2005-09-12  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (solib_DATA, solibdir): Define.

2005-09-11  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules: Wrap the @ in @prefix@ in [] so that configure
	doesn't substitute it.
	
	* Makefile.rules, Makefile.gen.sh: Generate rules for .javain
	files.
	
	* Makefile.gen.sh: Generate glade_DATA, and gladedir variables.

	* COPYING, EXCEPTION: New files; copyright of all files updated.

	* Makefile.gen.sh: Install any programs found below a bin/ or
	sbin/ directory.

	* Makefile.rules, Makefile.gen.sh: Append GCJ libraries to
	GEN_GCJ_LDADD instead of LDADD.  Link java programs against
	GEN_GCJ_LDADD.

	* Makefile.rules (AM_CXXFLAGS): Remove include/ directory.

2005-09-10  Andrew Cagney  <cagney@redhat.com>

	* Makefile.gen.sh: Add the *_JAR files to BUILT_SOURCES.

	* Makefile.rules (.java.classes): Fail when JAVAC has tty output.

2005-09-09  Andrew Cagney  <cagney@redhat.com>

	* acinclude.m4: Delete check for valid GCJ, always valid.

	* acinclude.m4: New file.

	* Makefile.rules (JAVAC): Set to @JAVAC@, remove -1.4 from
	JAVACFLAGS.

	* Makefile.gen.sh: For an _JAR macro, generate .jar rules.  Expand
	usage.

2005-09-01  Andrew Cagney  <cagney@redhat.com>

	* Makefile.gen.sh: Do not set CLEANFILES.
	* Makefile.rules (CLEANFILES): Add $(GEN_BUILT_CLASSES).
	(clean-local-po): Add clean-local rule to empty the .Po files.

2005-08-31  Andrew Cagney  <cagney@redhat.com>

	* Makefile.gen.sh, Makefile.rules: Send stdout direct to
	Makefile.gen.  Generate rules for a directory wide .jar, .so, .a,
	and .db file.  Store classes in GEN_CLASSDIR a.k.a. classes.

2005-08-30  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (TestRunner_LDFLAGS): Add LIBJUNIT.
	(LIBJUNIT): Conditionally define.

2005-08-25  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (gij.sh): Add rule to build GIJ run script.
	Define SOURCEPATH, CLASSPATH, and DBPATH.  Use.
	
	* Makefile.gen.sh: Instead of TestJUnits.java, generate variable
	GEN_JUNIT_TESTS.
	* TestRunner.sh: New file, generate TestRunner.java.
	* Makefile.rules (TestRunner.java): Add rules for building the
	JUnit test runner.
	
2005-08-18  Andrew Cagney  <cagney@redhat.com>

	* Makefile.gen.sh: For .jar files, use the specified path.
	
	* Makefile.gen.sh (has_main): Make java pattern more robust.

2005-08-17  Andrew Cagney  <cagney@redhat.com>

	* Makefile.gen.sh: Add TestJUnits to GEN_BUILT_CLASSES.

2005-08-15  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (.java.classes): Pipe "ls" errors to /dev/null.

2005-08-13  Andrew Cagney  <cagney@redhat.com>

	* Makefile.gen.sh: Generate "main" rules for .java, .cxx, and .c.
	* Makefile.rules (AM_LDFLAGS): Delete.
	
2005-08-12  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (.classes.h): Add explicit -I. to GCJH command.

2005-08-11  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (.jar.db): Add rule.
	(GCJCOMPILE): Optionally define.
	* Makefile.gen.sh: Allow .jar files as command line parameters,
	generate rules to convert them into .so / shared-libraries.

2005-08-11  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (JUNIT_JAR): Delete rules for building junit,
	moved to frysk-imports/.
	
	* Makefile.rules (.java.classes): Simplify, use `ls' to find the
	list of class files.

2005-08-07  Andrew Cagney  <cagney@redhat.com>

	* Makefile.gen.sh: Fix grep filtering out non-standalone *Test*.

	* Makefile.gen.sh: Simplify, handle each suffix separatly.
	Generate a single TestJUnits.java at the top leve.
	* Makefile.rules: Update to match.
	
	* Makefile.gen.sh: Generate explicit .o.classes dependency so that
	the .o file is built before the .classes.
	* Makefile.rules (JAVAC, JAVACFLAGS, GEN_CLASSPATH,
	GEN_SOURCEPATH): Define, add JUNIT_JAR to classpath.
	(.java.classes): Simplify rule, use JAVAC.
	(.classes.o): Delete rule.
	
2005-08-05  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (SUFFIXES, BUILT_SOURCES, CLEANFILES)
	(noinst_PROGRAMS, bin_PROGRAMS, noinst_LIBRARIES, LDADD)
	(check_SCRIPTS, TESTS, AM_LDFLAGS, AM_GCJFLAGS, AM_CXXFLAGS):
	Provide defaults.

	* Makefile.gen.sh: When JUnit like tests, generate the file
	TestJUnits.java.
	* Makefile.rules (JUNIT_JAR, libjunit.a, junit.o): Add rules to
	build and link against a junit archive.

	* Makefile.gen.sh: Treat TestLib as the test library.

2005-08-01  Andrew Cagney  <cagney@redhat.com>

	* Makefile.gen.sh: Sort the output.

2005-07-30  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (.mkjava.java, .shjava.java): Make the generated
	file read-only.

	* Makefile.gen.sh: Add GEN_BUILT_CLASSES to CLEANFILES.

2005-07-26  Andrew Cagney  <cagney@redhat.com>

	* BUILD-SO: New file.

	* Makefile.gen.sh: For .mkjava and .shjava sources, filter out any
	corresponding .java files.

2005-07-21  Andrew Cagney  <cagney@redhat.com>

	* Makefile.gen.sh: Add GEN_DIRS=... to generated output.
	* Makefile.rules ($(srcdir)/Makefile.gen): Pass GEN_DIRS to
	Makefile.gen.sh.
	* Makefile.gen.sh: Fix typo, use $# for argument count.

2005-07-20  Andrew Cagney  <cagney@redhat.com>

	* Makefile.gen.sh: Pass the find directory list in as a parameter,
	always use the directory list.
	
	* Makefile.rules: New file.
	* Makefile.gen.sh: New file.
	* mkjava.sh: New file.

	* README: New file.

Local Variables:
mode: change-log
left-margin: 8
fill-column: 74
version-control: never
End:
