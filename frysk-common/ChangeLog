2005-09-09  Andrew Cagney  <cagney@redhat.com>

	* acinclude.m4: Delete check for valid GCJ, always valid.

	* acinclude.m4: New file.

	* Makefile.rules (JAVAC): Set to @JAVAC@, remove -1.4 from
	JAVACFLAGS.

	* Makefile.gen.sh: For an _JAR macro, generate .jar rules.  Expand
	usage.

2005-09-01  Andrew Cagney  <cagney@redhat.com>

	* Makefile.gen.sh: Do not set CLEANFILES.
	* Makefile.rules (CLEANFILES): Add $(GEN_BUILT_CLASSES).
	(clean-local-po): Add clean-local rule to empty the .Po files.

2005-08-31  Andrew Cagney  <cagney@redhat.com>

	* Makefile.gen.sh, Makefile.rules: Send stdout direct to
	Makefile.gen.  Generate rules for a directory wide .jar, .so, .a,
	and .db file.  Store classes in GEN_CLASSDIR a.k.a. classes.

2005-08-30  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (TestRunner_LDFLAGS): Add LIBJUNIT.
	(LIBJUNIT): Conditionally define.

2005-08-25  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (gij.sh): Add rule to build GIJ run script.
	Define SOURCEPATH, CLASSPATH, and DBPATH.  Use.
	
	* Makefile.gen.sh: Instead of TestJUnits.java, generate variable
	GEN_JUNIT_TESTS.
	* TestRunner.sh: New file, generate TestRunner.java.
	* Makefile.rules (TestRunner.java): Add rules for building the
	JUnit test runner.
	
2005-08-18  Andrew Cagney  <cagney@redhat.com>

	* Makefile.gen.sh: For .jar files, use the specified path.
	
	* Makefile.gen.sh (has_main): Make java pattern more robust.

2005-08-17  Andrew Cagney  <cagney@redhat.com>

	* Makefile.gen.sh: Add TestJUnits to GEN_BUILT_CLASSES.

2005-08-15  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (.java.classes): Pipe "ls" errors to /dev/null.

2005-08-13  Andrew Cagney  <cagney@redhat.com>

	* Makefile.gen.sh: Generate "main" rules for .java, .cxx, and .c.
	* Makefile.rules (AM_LDFLAGS): Delete.
	
2005-08-12  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (.classes.h): Add explicit -I. to GCJH command.

2005-08-11  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (.jar.db): Add rule.
	(GCJCOMPILE): Optionally define.
	* Makefile.gen.sh: Allow .jar files as command line parameters,
	generate rules to convert them into .so / shared-libraries.

2005-08-11  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (JUNIT_JAR): Delete rules for building junit,
	moved to frysk-imports/.
	
	* Makefile.rules (.java.classes): Simplify, use `ls' to find the
	list of class files.

2005-08-07  Andrew Cagney  <cagney@redhat.com>

	* Makefile.gen.sh: Fix grep filtering out non-standalone *Test*.

	* Makefile.gen.sh: Simplify, handle each suffix separatly.
	Generate a single TestJUnits.java at the top leve.
	* Makefile.rules: Update to match.
	
	* Makefile.gen.sh: Generate explicit .o.classes dependency so that
	the .o file is built before the .classes.
	* Makefile.rules (JAVAC, JAVACFLAGS, GEN_CLASSPATH,
	GEN_SOURCEPATH): Define, add JUNIT_JAR to classpath.
	(.java.classes): Simplify rule, use JAVAC.
	(.classes.o): Delete rule.
	
2005-08-05  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (SUFFIXES, BUILT_SOURCES, CLEANFILES)
	(noinst_PROGRAMS, bin_PROGRAMS, noinst_LIBRARIES, LDADD)
	(check_SCRIPTS, TESTS, AM_LDFLAGS, AM_GCJFLAGS, AM_CXXFLAGS):
	Provide defaults.

	* Makefile.gen.sh: When JUnit like tests, generate the file
	TestJUnits.java.
	* Makefile.rules (JUNIT_JAR, libjunit.a, junit.o): Add rules to
	build and link against a junit archive.

	* Makefile.gen.sh: Treat TestLib as the test library.

2005-08-01  Andrew Cagney  <cagney@redhat.com>

	* Makefile.gen.sh: Sort the output.

2005-07-30  Andrew Cagney  <cagney@redhat.com>

	* Makefile.rules (.mkjava.java, .shjava.java): Make the generated
	file read-only.

	* Makefile.gen.sh: Add GEN_BUILT_CLASSES to CLEANFILES.

2005-07-26  Andrew Cagney  <cagney@redhat.com>

	* BUILD-SO: New file.

	* Makefile.gen.sh: For .mkjava and .shjava sources, filter out any
	corresponding .java files.

2005-07-21  Andrew Cagney  <cagney@redhat.com>

	* Makefile.gen.sh: Add GEN_DIRS=... to generated output.
	* Makefile.rules ($(srcdir)/Makefile.gen): Pass GEN_DIRS to
	Makefile.gen.sh.
	* Makefile.gen.sh: Fix typo, use $# for argument count.

2005-07-20  Andrew Cagney  <cagney@redhat.com>

	* Makefile.gen.sh: Pass the find directory list in as a parameter,
	always use the directory list.
	
	* Makefile.rules: New file.
	* Makefile.gen.sh: New file.
	* mkjava.sh: New file.

	* README: New file.
