2006-03-14  Andrew Cagney  <cagney@redhat.com>

	* cni/SigSet.hxx (getRawSet): Rename getSigSet.
	* SigSet.java: Rename sigSet to rawSet; rename newSigSet to
	newRawSet.
	* cni/SigSet.cxx: Update.
	* Poll.java (SignalSet): Delete.
	(sigSet, add,(Sig), empty, pollFds): New.
	(poll): Drop Fds parameter.
	* cni/Poll.cxx: Update.

2006-03-09  Andrew Cagney  <cagney@redhat.com>

	* Signal.java (kill (int, int), tkill (int, int)): Delete.
	(kill (int, Sig), tkill (int, Sig)): Make native.
	* cni/Signal.cxx: Update.
	
	* Poll.java (Observer.signal (Sig)): Replace Observer.signal (int).
	* cni/Poll.cxx (poll): Pass a Sig to Observer.signal.
	
	* Poll.java (SignalSet.add (int)): Delete.
	(SignalSet.add (Sig)): Make native.
	* cni/Poll.cxx: Update.
	* SigSet.java (SigSet (int[]): Delete.
	(add (int), remove (int), contains (int)): Delete.
	(add (Sig), remove (Sig), contains (Sig)): Make native.
	* cni/SigSet.cxx: Update.

	* Sig.shenum: Add SIGNONE - 0 - to list of signals.
	
	* Itimer.java (real (long), real (long, long)): Return a Sig.
	* cni/Itimer.cxx: Update.
	* Sig.shenum: Generate the print name.

	* Ptrace.java (detach (int, Sig)): New.
	* Poll.java (SignalSet.add (Sig)): New.
	* Signal.java (kill (int, Sig), tkill (int, Sig)): New.
	* cni/SigSet.cxx (newSigSet): Drop sigs parameter.
	* SigSet.java (contains (Sig), add (Sig), remove (Sig))
	(SigSet(Sig[])): New.
	* TestSigSet.java: Update.

2006-03-07  Andrew Cagney  <cagney@redhat.com>

	* Poll.java (poll): Add description.
	* SigSet.java, cni/SigSet.cxx: Change all void methods to return
	this SigSet.
	
2006-03-06  Andrew Cagney  <cagney@redhat.com>
	
	* SigSet.java (getPending, suspend, blockProcMask)
	(unblockProcMask, setProcMask, getProcMask): Add.
	* cni/SigSet.cxx: Ditto.
	* TestSigSet.java (testProcMask): New test.

	* cni/SigSet.hxx, cni/SigSet.cxx, SigSet.java, TestSigSet.java:
	New files.

2006-02-19  Andrew Cagney  <cagney@redhat.com>

	* cni/Poll.cxx (handler): If the signal is to the wrong thread,
	re-send it to the correct one.
	(poll_jmpbuf): Replace .p with .tid.
	(poll): Set the .tid.

2006-02-10  Andrew Cagney  <cagney@redhat.com>

	* cni/Poll.cxx (handler): If poll_jmpbuf is invalid, throw a
	RuntimeException.
	(poll): Mark when poll_jmpbuf is valid.
	(struct poll_jmpbuf): Replace poll_env, a per-thread buffer.

2005-12-21  Andrew Cagney  <cagney@redhat.com>

	* cni/XXX.cxx: Delete.
	* XXX.java: Delete.
	
	* XXX.java (infCloneLoop): Delete.
	* cni/XXX.cxx (infCloneLoop, cloneThreadFunc, threadFunc): Delete.
	
	* XXX.java (infLoop): Delete.
	* cni/XXX.cxx (infLoop): Delete.

2005-11-28  Andrew Cagney  <cagney@redhat.com>

	* Sig.shjava: Use $CC from the environment.
	* SyscallNum.shjava: Ditto.

2005-11-14  Andrew Cagney  <cagney@redhat.com>

	* cni/Wait.cxx (processStatus): Wrap case local variable in local
	block.  Gag G++ 4.1 error.

2005-11-10  Jeff Johnston  <jjohnstn@redhat.com>

	* Wait.java (syscallEvent): Revert change on 2005-11-07.
	* cni/Wait.cxx (processStatus): Ditto.

2005-11-08  Andrew Cagney  <cagney@redhat.com>

	* Wait.java: Add Throwable argument to .disappeared.
	* cni/Wait.cxx (processStatus): Update.

2005-11-07  Jeff Johnston  <jjohnstn@redhat.com>

	* Wait.java (syscallEvent): Add new syscall event type parameter.
	* cni/Wait.cxx (processStatus): For a syscall event, indicate
	the event type is unknown.

2005-11-01  Jeff Johnston  <jjohnstn@redhat.com>

	* SyscallNum.shjava: New file.

2005-10-23  Andrew Cagney  <cagney@redhat.com>

	* cni/Wait.cxx (WSTOPEVENT): Replace WEVENTSTATUS.
	(processStatus): Update.  For PTRACE_EVENT_EXIT, extract the exit
	signal and/or status.
	* Wait.java: Add signal, and coreDumped parameters to .exitEvent.
	Merge .exited into .terminated.  Update comments.

2005-10-22  Andrew Cagney  <cagney@redhat.com>

	* cni/Errno.cxx (throwRuntimeException): New function.
	(vajprintf): New function, use throughout.
	* cni/Errno.hxx (throwRuntimeException): Declare variant with
	message, suffix, and val parameters.
	* cni/Wait.cxx (processStatus): Use.

2005-10-09  Andrew Cagney  <cagney@redhat.com>

	* cni/Errno.cxx, cni/Errno.hxx: Add throwErrno methods that take a
	suffix, and a suffix and val.  Rename throwException to
	throwRuntimeException.
	* cni/Fork.cxx, cni/Ptrace.cxx, cni/Signal.cxx, cni/Wait.cxx: Use.
	
2005-10-07  Andrew Cagney  <cagney@redhat.com>

	* Tid.java, cni/Tid.cxx: New.

2005-10-03  Andrew Cagney  <cagney@redhat.com>

	* Poll.java: Make SignalSet.signalSet protected; work around ECJ
	3.1 feature.

2005-09-27  Andrew Cagney  <cagney@redhat.com>

	* ExampleJUnitTest.java: Delete.
	* Errno.java, Itimer.java, Pid.java, Poll.java, Ptrace.java,
	Signal.java, Wait.java: Add more documentation.

	* Fork.java: Have "ptrace" should call "ptrace", not "exec".
	Update comments.

2005-09-18  Andrew Cagney  <cagney@redhat.com>

	* package.html: New file.

2005-09-09  Andrew Cagney  <cagney@redhat.com>

	* Move com/redhat/fedora/frysk/sys/ to frysk/sys/.

2005-08-30  Andrew Cagney  <cagney@redhat.com>

	* Wait.java: Rename wait to waitAll, waitNohang to waitAllNoHang,
	signaled to terminated, and zombied to disappeared.

2005-08-26  Andrew Cagney  <cagney@redhat.com>

	* cni/Fork.cxx: For daemon, reap the original child's pid.

2005-08-26  Jeff Johnston  <jjohnstn@redhat.com>

	* cni/Wait.cxx: Add __WALL flag for regular wait without WNOHANG.

2005-08-25  Andrew Cagney  <cagney@redhat.com>

	* Fork.java, cni/Fork.cxx: Add method "daemon".

2005-08-22  Andrew Cagney  <cagney@redhat.com>

	* cni/Signal.cxx (kill, tkill): Throw an exception if the kill
	fails.

2005-08-13  Andrew Cagney  <cagney@redhat.com>

	* cni/Ptrace.cxx, Ptrace.java: Don't catch Errno.Esrch.

	* cni/Errno.cxx, Errno.java: Handle ECHILD adding Echild sub-class

2005-08-12  Jeff Johnston  <jjohnstn@redhat.com>

	* Errno.java: Add Esrch class to represent ESRCH errno (process
	not found).
	* Ptrace.java: Change prototypes of cont, singleStep, sysCall, and
	setOptions methods to return an int.
	* Wait.java: Add zombied observer.
	* XXX.java: Add infCloneLoop.
	* cni/Errno.cxx: Add support for new Errno.Esrch class.
	* cni/Ptrace.cxx: For cont, singleStep, sysCall, and setOptions,
	use a try/catch to gracefully handle an ESRCH error and return an
	error code.
	* cni/Wait.cxx (PTRACE_EVENT_FORK, PTRACE_EVENT_CLONE): Handle an
	Esrch error thrown when getting the event msg and in such a case,
	call the zombied observer.
	* cni/XXX.cxx (infCloneLoop): New test.

2005-08-12  Andrew Cagney  <cagney@redhat.com>

	* Sig.shjava: Use "gcc -dD" and /usr/include/signal.h.

2005-08-10  Andrew Cagney  <cagney@redhat.com>

	* Fork.java, Pid.java, cni/Fork.cxx, Pid.cxx: New.

	* Wait.java: Add "wait" method, delete "Observer.unknown".
	* cni/Wait.cxx (processStatus, wait): New.
	(waitNoHang): Use processStatus.

2005-08-08  Andrew Cagney  <cagney@redhat.com>

	* cni/Poll.cxx, Poll.java: Add SignalSet.empty.

2005-08-07  Andrew Cagney  <cagney@redhat.com>

	* .cvsignore: Delete TestJUnits.java.

2005-08-05  Andrew Cagney  <cagney@redhat.com>

	* .cvsignore: Ignore TestJUnits.java.
	* ExampleJUnitTest.java: New.

	* .cvsignore: Add Sig.java.

2005-07-31  Andrew Cagney  <cagney@redhat.com>

	* Wait.java, cni/Wait.cxx: Delete the one parameter "stopped"
	observer.

2005-07-30  Andrew Cagney  <cagney@redhat.com>

	* Sig.shjava: New file.

	* cni/XXX.cxx, sys/XXX.java: New files.  Copy in infLoop,
	infThreadLoop and suspendedProg methods from proc.SysUtils.

	* cni/Signal.cxx, Signal.java: New files.

2005-07-29  Andrew Cagney  <cagney@redhat.com>

	* Wait.java: Delete "stop" wait observer.
	* cni/Wait.cxx: Enable all the wait observers.

2005-07-28  Andrew Cagney  <cagney@redhat.com>

	* cni/Wait.cxx: For WIFEXITED, call Observer.exited.
	
	* Wait.java: Uncomment all the commented out observers and add a
	new method "unknown", but always call "stop" observer.

2005-07-27  Andrew Cagney  <cagney@redhat.com>

	* cni/Poll.cxx, Poll.java: Make SignalSet static, drop SignalSet
	paramter from poll method.

2005-07-26  Andrew Cagney  <cagney@redhat.com>

	* Errno.java: Add missing serialVersionUID.

	* .cvsignore: Exclude more generated files.

2005-07-21  Andrew Cagney  <cagney@redhat.com>

	* cni/.cvsignore: New file.

2005-07-19  Andrew Cagney  <cagney@redhat.com>

	* cni/Ptrace.cxx, cni/Poll.cxx, cni/Itimer.cxx, cni/Errno.cxx,
	cni/Errno.hxx, Ptrace.java, Poll.java, Itimer.java, Errno.java:
	New file.

Local Variables:
mode: change-log
left-margin: 8
fill-column: 74
version-control: never
End:
