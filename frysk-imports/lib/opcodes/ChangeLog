2007-07-17  Andrew Cagney  <cagney@redhat.com>

	* libbfd_get.c: Delete file.  Move contents to ...
	* cni/Disassembler.cxx (bfd_getb32, bfd_getl32): ... here.

2007-07-05  Andrew Cagney  <cagney@redhat.com>

	* tests/DummyByteBuffer.java: Delete.
	* tests/TestOpcodes.java: Delete.
	* TestDisassembler.java: New..

2007-07-04  Andrew Cagney  <cagney@redhat.com>

	* OpcodesException.java: Delete.

	* tests/TestOpcodes.java: Update.
	* Instruction.java: Add constructor.
	(address, length, instruction): Make final.
	* Disassembler.java (printAddress, readMemory)
	(printInstruction): New.
	(memory): Replace "buffer".
	(insnList): Make private.
	(instruction): Replace "current".
	(startInstruction, endInstruction): New.
	(setCurrentAddress, appendCurrentInstruction)
	(setCurrentInstructionLength, moveToNext): Delete.
	(disassembleInstructions): Update.  Do not throw OpcodeException.
	* cni/Disassembler.cxx (print_addr, read_from_byte_buffer)
	(save_instruction): Delete.
	(memory_error): New.
	(print_address, read_memory, print_instruction): New; wrap round
	printAddress, readMemory, and printInstruction.
	(disassemble): Update.
	
	* UnsupportedArchitectureException.java: New file.
	* cni/Disassembler.cxx (Disassembler::disassemble): When ISA is
	unknown, throw an UnsupportedArchitectureException.

2007-07-03  Andrew Cagney  <cagney@redhat.com>

	* cni/Disassembler.cxx (save_instruction): Re-indent.

2007-01-16  Mark Wielaard  <mark@klomp.org>

	* Disassembler.java (disassemble): Mark native method as throwing
	OpcodesException.

2007-01-15  Andrew Cagney  <cagney@redhat.com>

	* tests/TestOpcodes.java: Replace Build.BUILD_ARCH with
	Config.getTargetCpuXXX.
	* tests/DummyByteBuffer.java: Ditto.

2006-09-18  Yao Qi  <qiyaoltc@cn.ibm.com>

	* Instruction.java (length): New member.
	* Disassembler.java (setCurrentInstructionLength): New method.
	
	* cni/Disassembler.cxx (disassemble): Fill in instruction length.

	* tests/TestOpcodes.java: Add test case for powerpc.
	* tests/DummyByteBuffer.java (DummyByteBuffer): Write dummy 
	byte buffer for powerpc.
	(peek): Modify the condition as 0 is the first index.
	(poke): Likewise.

2006-09-15  Mike Cvet  <mcvet@redhat.com>

	* tests/TestOpcodes.java (testDisassembler): Updated expected
	instructions for both 32 and 64-bit x86 arches. Fixes #3124.

2006-09-14  Mike Cvet  <mcvet@redhat.com>

	* Disassembler.java (appendCurrentInstruction): Changed from
	setCurrentInstruction to prevent overwriting the given 
	instruction with the parameters. Now properly appends
	parameters to instructions. Closes #3209
	* cni/Disassembler.cxx (disassemble): Changed the 
	i386 and x86_64 instruction flavours to att.
	(read_from_byte_buffer): Fixed up formatting.
	(print_addr): Changed from an empty function to one that
	updates the Disassembler object with the instruction
	address parameter.
	(save_instruction): Fixed up formatting.

2006-08-28  Andrew Cagney  <cagney@redhat.com>

	* tests/TestOpcodes.java: Extend frysk.junit.TestCase.
	(trueXXX, brokenXXX, brokenPpcXXX): Delete, moved to
	frysk.junit.TestCase.

2006-08-04  Yao Qi  <qiyaoltc@cn.ibm.com>

	* lib/opcodes/tests/TestOpcodes.java: Replace "ppc" with
	"powerpc" to match Build.BUILD_ARCH.

2006-07-31  Adam Jocksch  <ajocksch@redhat.com>

	* tests/TestOpcodes.java (brokenPpcXXX): Added.
	* tests/TestOpcodes.java (testDisassembler): Re-failed for ppc/ppc64.
	* tests/TestOpcodes.java (testDisassembler): Fixed, test now works
	on x86_64.

2006-07-27  Mark Wielaard  <mark@klomp.org>

	* tests/TestOpcodes.java (testDisassembler): Mark as broken bug #2712.

2006-07-14  Mike Cvet  <mcvet@redhat.com>

	* Disassembler.java (Disassembler): Applied GNU formatting.
	* Disassembler.cxx: Ditto.

2006-05-24  Adam Jocksch  <ajocksch@redhat.com>

	* tests/TestOpcodes.java: Added Frysk header.
	* tests/DummyByteBuffer.java: Ditto.

	* cni/Disassembler.cxx (save_instruction): Fixed bug where one string
	wasn't being created with JvNewStringUTF.
	* tests/TestOpcodes.java (testDisassembler): Now checks disassembler
	output, this is expected to fail on non-i386 machines.

	* Disassembler.java (disassembleWords): Renamed to 
	disassembleInstructions.
	* cni/Disassembler.cxx (disassemble): Now checks for architecture and sets
	up the disassembly struct appropriately, disassembly function is now
	referred to by pointer.
	(read_from_byte_buffer): Now properly copies memory in to myadd, rather
	than memaddr.
	(error_func): Now uses JvNewStringUTF.
	(save_instruction): Ditto, fixed double free bug.
	* tests: Added.
	* tests/DummyByteBuffer.java: Added.
	* tests/TestOpcodes.java: Added.

2006-05-19  Adam Jocksch  <ajocksch@redhat.com>

	* cni/Disassembler.cxx (disassemble): No longer assumes i386_intel.

2006-05-15  Adam Jocksch  <ajocksch@redhat.com>

	* Disassembler.java: Added Frysk header.
	* OpcodesException.java: Ditto.
	* Instruction.java: Ditto.
	(toString): Overwritten.
	* cni/Disassembler.cxx: Added frysk header and comments.
	(my_read_func): Renamed to read_from_byte_buffer.
	(my_print): Renamed to save_instruction.

2006-05-12  Adam Jocksch  <ajocksch@redhat.com>

	* ChangeLog: Created.
	* Disassembler.java: Added.
	* Instruction.java: Ditto.
	* OpcodesException.java: Ditto.
	* cni: Ditto.
	* cni/Disassembler.cxx: Ditto.
