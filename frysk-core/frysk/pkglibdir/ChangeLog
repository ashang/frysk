2006-12-12  Stepan Kasal  <skasal@redhat.com>

	* funit-child.xml: s/pkglibexecdir/pkglibdir/
	* funit-exec.xml: Ditto.
	* funit-exit.xml: Ditto.
	* funit-threads.xml: Ditto.
	* funit.xml: Ditto.
	* funit.java: Replace Config.PKGLIBEXEC*DIR with Config.PKGLIB*DIR.

2006-12-10  Andrew Cagney  <cagney@redhat.com>

	* Moved from ../pkglibexecdir/.
	* ChangeLog: Ditto.
	* funit-breakpoints.c: Ditto.
	* funit-child.c: Ditto.
	* funit-child.xml: Ditto.
	* funit-exec.c: Ditto.
	* funit-exec.xml: Ditto.
	* funit-exit.c: Ditto.
	* funit-exit.xml: Ditto.
	* funit-fib-clone.c: Ditto.
	* funit-fib-exec.c: Ditto.
	* funit-fib-fork.c: Ditto.
	* funit-forks.c: Ditto.
	* funit-ia32-modify.S: Ditto.
	* funit-ia32-regs.S: Ditto.
	* funit.java: Ditto.
	* funit-modify.c: Ditto.
	* funit-ppc64-modify.S: Ditto.
	* funit-ppc64-regs.S: Ditto.
	* funit-print-argc.c: Ditto.
	* funit-print-argv.c: Ditto.
	* funit-print-auxv.c: Ditto.
	* funit-print-envp.c: Ditto.
	* funit-rt-looper.c: Ditto.
	* funit-rt-stepper.c: Ditto.
	* funit-rt-threader.c: Ditto.
	* funit-rt-threadstepper.c: Ditto.
	* funit-syscall-exec.c: Ditto.
	* funit-syscallint.c: Ditto.
	* funit-syscallloop.c: Ditto.
	* funit-syscall-running.c: Ditto.
	* funit-syscalls.c: Ditto.
	* funit-syscall-signal.c: Ditto.
	* funit-syscall-threadexec.c: Ditto.
	* funit-threadexit.c: Ditto.
	* funit-threads.c: Ditto.
	* funit-threads.xml: Ditto.
	* funit-x8664-modify.S: Ditto.
	* funit-x8664-regs.S: Ditto.
	* funit.xml: Ditto.
	* util.h: Ditto.

2006-12-08  Andrew Cagney  <cagney@redhat.com>

	* funit.java: Delete reference to frysk.sys, I.e., the frysk-sys
	directory.

2006-12-04  Nurdin Premji <npremji@redhat.com>

	* funit-exec.c (stringtolong): Added.
	(main): Changed to parse integer values with stringtolong.
	Added alarm for ending process.
	Use sigset to set the signal handlers (instead of signal).
	Use sigsuspend to block all signals except for SIGUSR1 and SIGUSR2.

2006-12-01  Mike Cvet  <mcvet@redhat.com>

	* funit-rt-stepper.c (bar): Added.
	(jump): Made all integers volatile to avoid over-optimization.
	(foo): Ditto.

	* funit-rt-threadstepper.c: Cleaned up, using volatile integers.
	(signal_rec): Added.
	(signal_parent): Now main thread.

2006-11-29  Mike Cvet  <mcvet@redhat.com>

	* funit-rt-stepper.c: Removed dependence on integer as a lock.
	(signal_parent): Loop and then kill.
	(main): Create thread with new default attributes.

2006-11-28  Mike Cvet  <mcvet@redhat.com>

	* funit-rt-threadstepper.c: Added. More interesting stepping cases.
	* funit-rt-stepper.c (signal_parent): Loop instead of exit.

2006-11-28  Chris Moller  <moller@mollerware.com>

	* funit-exit.xml: Add documentation for -exclude and -include
	switches. 

2006-11-27  Andrew Cagney  <cagney@redhat.com>

	* funit-threadexit.c (running_thread_can_exit): New barrier.
	(main, op_thread): Use running_thread_can_exit to block thread's
	exit until after main has opened the thread's /proc/stat file.

	* funit-threadexit.c (scan_thread): Delete
	(main): Do the scan for thread in 'X' state here, instead of in
	scan_thread.  Create only one thread.
	(condition_cond, condition_mutex): Delete.
	(thread_running_barrier): Rename "barrier".
	(thread_id): Make volatile.
	(op_thread): Simplify, use only one barrier.

2005-11-16  Mike Cvet  <mcvet@redhat.com>

	* funit-rt-stepper.c (jump): Added.
	(foo): Update call to switch back and forth from jump().

2006-11-15  Andrew Cagney  <cagney@redhat.com>

	* funit-exit.xml: New.
	* funit.xml: Cross reference funit-exit(8).
	* funit-child.xml: Ditto.
	* funit-exec.xml: Ditto.
	* funit-threads.xml: Ditto.

2006-11-14  Mike Cvet  <mcvet@redhat.com>

	* funit-rt-stepper.c (signal_parent): Added, fixes race condition.
	(main): Edited to fix race condition.

2006-11-13  Mike Cvet  <mcvet@redhat.com>
	
	* funit-rt-stepper.c: Added.

2006-11-06  Andrew Cagney  <cagney@redhat.com>

	* funit.xml: Mention --all and --stress.

	* funit.java: Call runTestCases.
	* funit.xml: Mention -n / --list-classes-only option.
	
	* funit.java: Pass "funit" to Runner constructor.

2006-10-19  Mark Wielaard  <mark@klomp.org>

	* funit-breakpoints.c :Do the same for all architectures.

2006-10-19  Yao Qi  <qiyaoltc@cn.ibm.com>

	* funit-breakpoints.c (trap_handler): Call siglongjmp to return.
	(dummy): Call sigsetjmp to skip the invalid instruction after
	it is executed for the first time on PPC64.

2006-10-13  Yao Qi  <qiyaoltc@cn.ibm.com>

	* funit-ppc64-regs.S: Set FPRs for the check in TestRegs. 

2006-10-12  Andrew Cagney  <cagney@redhat.com>

	* funit.java: Emacs indent.
	
	* funit.java: Move 32- and 64- logic to frysk.junit.Runner.

2006-10-11  Andrew Cagney  <cagney@redhat.com>

	* funit.java: Set the frysk.junit.Patsh data path to PKGDATADIR.

2006-10-11  Yao Qi  <qiyaoltc@cn.ibm.com>

	* funit-ppc64-regs.S (main): Conditional compile to avoid breaking
	build on platforms other than powerpc.

2006-10-10  Yao Qi  <qiyaoltc@cn.ibm.com>

	* funit-ppc64-regs.S: Add 32-bit asm code.

2006-10-09  Yao Qi  <qiyaoltc@cn.ibm.com>

	* funit-breakpoints.c (dummy): Generate trap event for
	powerpc32 as well.

2006-10-05  Mark Wielaard  <mark@klomp.org>

	* funit-breakpoints.c (trap_handler): New function.
	(dummy): Send trap signal and generate trap event.
	(main): Install trap signal handler.

2006-09-29  Mark Wielaard  <mark@klomp.org>

	* funit-breakpoints.c (main): Reexec at the end of the loop.

2006-09-25  Yong Zheng  <zhengyo@cn.ibm.com>

	* funit-ppc64-modify.S: New PPC64 specific test program.
	* funit-x8664-modify.S: Correct the syscall number on X8664 
	and do some modifications to keep synch with TestRegMemModify.
	
2006-09-25  Yong Zheng  <zhengyo@cn.ibm.com>

	* funit.java: Refactor to suport arch32 test.
	* funit.xml: Update the --arch option info.

2006-09-21	Mike Cvet	<mcvet@redhat.com>
	
	* funit-rt-threader.c (signal_parent): loops instead of 
	exiting.

2006-09-20	Mike Cvet	<mcvet@redhat.com>
	
	* funit-rt-looper.c: Threw in a little entropy.
	* funit-rt-threader.c: Added - will be used for threaded
	stack trace tests.

2006-09-18  Mark Wielaard  <mark@klomp.org>

	* funit-syscall-running.c: Don't read, just accept socket.

2006-09-07  Mark Wielaard  <mark@klomp.org>

	* funit-syscall-signal.c: New test prog.

2006-09-04  Mark Wielaard  <mark@klomp.org>

	* funit-syscall-running.c: Accept socket and read() for it.

2006-09-01  Mark Wielaard  <mark@klomp.org>

	* funit-syscall-running.c: New test prog.

2006-08-29  Yong Zheng  <zhengyo@cn.ibm.com>

	* funit-ppc64-regs.S: New PPC64 specific program.

2006-08-23  Yong Zheng  <zhengyo@cn.ibm.com>

	* funit-breakpoint.c (main): Get the function address 
	instead of address of function descriptor on PPC64.

2006-08-16  Tim Moore  <timoore@redhat.com>

	* funit-x8664-regs.s: Use some more interesting 64 bit values to
	stress the long and BigInteger Register APIs.
	* funit-x8664-modify.s: ditto.

2006-08-15  Mark Wielaard  <mark@klomp.org>

	* funit-breakpoints.c: New test prog.

2006-08-07  Tim Moore  <timoore@redhat.com>

	* funit-x8664-modify.S: New x8664 specific program.

2006-08-03  Tim Moore  <timoore@redhat.com>

	* funit-x8664-regs.S: New x8664 specific program.

2006-07-28  Adam Jocksch  <ajocksch@redhat.com>

	* funit-rt-looper.c: Now takes the signal to send as a parameter.

	* funit-rt-looper.c: Moved from frysk.rt.tests.

2006-07-05  Sami Wagiaalla  <swagiaal@redhat.com>

	* funit-syscallloop.c: Added a command line option (-1)
	which makes the program make system calls in an infinite
	loop.

2006-06-27  Stepan Kasal  <kasal@ucw.cz>

	* funit-ia32-modify.S, funit-ia32-regs.S: Make the stack
	non-executable, using the recipe from Jakub Jelinek.

2006-06-26  Phil Muldoon  <pmuldoon@redhat.com>

	* funit-forks.c: Removed waits.

2006-06-25  Phil Muldoon  <pmuldoon@redhat.com>

	* funit-forks.c: Fix warnings. Removed printed output.
	* funit-forks.c: Added Chris Moller's fork
	stress tester. 

2006-06-23 	Nurdin Premji <npremji@redhat.com>
	* funit-child.c Added signal SIGBUS to exit a thread.

2006-06-21  Stepan Kasal  <kasal@ucw.cz>

	* util.h: Include linux.syscall.h; the calers need not to do that.
	* funit-threadexit.c: Remove duplicate #include <unistd.h>.

2006-06-15  Nurdin Premji  <npremji@redhat.com>

	* funit-child.c: Added #include <linux.syscall.h> and <unistd.h>.
	* funit-exec.c: Ditto.
	* funit-syscallint.c: Ditto.
	* funit-threadexit.c: Ditto.
	* funit-threads.c: Ditto.

2006-06-15  Sami Wagiaalla  <swagiaal@redhat.com>

	* funit-syscallint.c: Added trace calls.

2006-05-01  Stan Cox  <scox@redhat.com>

	* funit-threadexit.c (main): New file.

2006-04-15  Andrew Cagney  <cagney@redhat.com>

	* funit-print-auxv.c (main): Assume the optional argument is the
	output file name.

	* funit.xml: Add reference to funit-exec, and funit-child.
	* util.h: #include <stdlib.h>.
	* funit-child.c: Re-implement exec, so that it can exec a program
	specified as an argument.
	* funit-exec.c, funit-exec.xml: New files.

2006-03-20  Andrew Cagney  <cagney@redhat.com>

	* funit-child.c (notify_manager): Always print the trace message.
	(server): Delete log messages now made redundant.

2006-03-19  Andrew Cagney  <cagney@redhat.com>

	* funit-threads.xml: New file.
	* funit-child.c (OK, ok, pfatal, fatal, trace): Move to "util.h";
	#include.
	* util.h: New file.
	* funit-threads.c: Include "util.h"; add OK to all pthread calls.
	(op_clone): Rename loop.
	(op_loop, op_block, usage): New.
	(main): Parse --block, --clone and --loop.

2006-02-23  Andrew Cagney  <cagney@redhat.com>

	* funit-child.c (main, server, main_alarm): Add global variable
	main_alarm.  Move alarm call to server function, all new processes
	get an alarm.

2006-02-10  Andrew Cagney  <cagney@redhat.com>

	* funit-syscallint.c (main): Allow EINTR as a return code.

2006-02-09  Andrew Cagney  <cagney@redhat.com>

	* funit-syscallint.c (main): Fix return status check for <<read>>,
	and <<write>.

2006-02-08  Adam Jocksch  <ajocksch@toothpaste.toronto.redhat.com>

	* funit-syscallint.c (main): Fix compiler warnings.
	* funit-modify.c (main): Now checks return value of fwrite, aborts
	if it is != 1.

2006-02-06  Andrew Cagney  <cagney@redhat.com>

	* funit.java: Call Paths .setExecPrefix with PKGLIBEXECDIR.

2006-02-05  Andrew Cagney  <cagney@redhat.com>

	* funit-child.xml: New file.
	* funit-child.c: Copy from frysk-core/prog/.
	* funit-exit.c: Ditto.
	* funit-fib-clone.c: Ditto.
	* funit-fib-exec.c: Ditto.
	* funit-fib-fork.c: Ditto.
	* funit-ia32-modify.S: Ditto.
	* funit-ia32-regs.S: Ditto.
	* funit-modify.c: Ditto.
	* funit-print-argc.c: Ditto.
	* funit-print-argv.c: Ditto.
	* funit-print-auxv.c: Ditto.
	* funit-print-envp.c: Ditto.
	* funit-syscall-exec.c: Ditto.
	* funit-syscall-threadexec.c: Ditto.
	* funit-syscallint.c: Ditto.
	* funit-syscallloop.c: Ditto.
	* funit-syscalls.c: Ditto.
	* funit-threads.c: Ditto.

	* funit.java: Delete package specification.

	* funit.java: Import frysk.junit.Runner.

	* funit.xml, funit.java: New files.

Local Variables:
mode: change-log
left-margin: 8
fill-column: 74
version-control: never
End:
