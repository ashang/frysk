2005-09-06  Tarun Khanna  <tkhanna@redhat.com>

	* Makefile.am:	Added support for tunning dejagnu tests.

2005-09-06  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/HostState.java,
	com/redhat/fedora/frysk/proc/LinuxHost.java,
	com/redhat/fedora/frysk/proc/Proc.java,
	com/redhat/fedora/frysk/proc/ProcEvent.java,
	com/redhat/fedora/frysk/proc/ProcState.java,
	com/redhat/fedora/frysk/proc/State.java: Replace request events
	with anonymous objects.

	* com/redhat/fedora/frysk/proc/ProcState.java,
	com/redhat/fedora/frysk/proc/TaskState.java,
	com/redhat/fedora/frysk/proc/LinuxProc.java,
	com/redhat/fedora/frysk/proc/LinuxHost.java: Instead of the state
	machine, make requestRefresh responsible for removing the child.

2005-09-05  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/Task.java: Delete traceExec.
	* com/redhat/fedora/frysk/proc/LinuxTask.java,
	com/redhat/fedora/frysk/proc/TestLib.java: Update.
	
	* com/redhat/fedora/frysk/proc/LinuxTask.java: Always enable
	traceClone.
	* com/redhat/fedora/frysk/proc/Task.java: Delete traceClone.
	* com/redhat/fedora/frysk/proc/TestLib.java,
	com/redhat/fedora/frysk/proc/TestAttachCloningThreads.java,
	com/redhat/fedora/frysk/proc/TestStep.java,
	prog/util/run.java: Update.

	* com/redhat/fedora/frysk/proc/ProcState.java,
	com/redhat/fedora/frysk/proc/ProcEvent.java: Add and handle
	TaskAttached.

	* com/redhat/fedora/frysk/proc/TaskState.java,
	com/redhat/fedora/frysk/proc/TaskEvent.java,
	com/redhat/fedora/frysk/proc/TaskState.java: Add and handle
	RequestAttach.

2005-09-01  Andrew Cagney  <cagney@redhat.com>
	
	* .project: Add frysk-imports directory.
	* com/redhat/fedora/frysk/cli/hpd/.cvsignore,
	com/redhat/fedora/frysk/expr/.cvsignore,
	com/redhat/fedora/frysk/prog/.cvsignore: Add.

	* com/redhat/fedora/frysk/proc/PsEvent.java,
	com/redhat/fedora/frysk/proc/PsListener.java,
	com/redhat/fedora/frysk/proc/PsObserver.java: Delete.

	* com/redhat/fedora/frysk/proc/TestTerminated.java,
	com/redhat/fedora/frysk/proc/TestSyscallOpen.java,
	com/redhat/fedora/frysk/proc/TestSyscall.java,
	com/redhat/fedora/frysk/proc/TestSyscall2.java,
	com/redhat/fedora/frysk/proc/TestStep.java,
	com/redhat/fedora/frysk/proc/TestI386Regs.java,
	com/redhat/fedora/frysk/proc/TestI386Modify.java,
	com/redhat/fedora/frysk/proc/TestExiting.java: Remove try / catch
	wrapping Host.requestCreateProc.

	* com/redhat/fedora/frysk/proc/TestLib.java: Add methods
	assertRunUntilStop and runPending.
	* com/redhat/fedora/frysk/proc/TestAttach.java,
	com/redhat/fedora/frysk/proc/TestAttachCloningThreads.java,
	com/redhat/fedora/frysk/proc/TestAttachThreads.java,
	com/redhat/fedora/frysk/proc/TestClone.java,
	com/redhat/fedora/frysk/proc/TestExec.java,
	com/redhat/fedora/frysk/proc/TestExiting.java,
	com/redhat/fedora/frysk/proc/TestFork.java,
	com/redhat/fedora/frysk/proc/TestGoAndGo.java,
	com/redhat/fedora/frysk/proc/TestI386Modify.java,
	com/redhat/fedora/frysk/proc/TestI386Regs.java,
	com/redhat/fedora/frysk/proc/TestPaused.java,
	com/redhat/fedora/frysk/proc/TestProcGet.java,
	com/redhat/fedora/frysk/proc/TestProcStop.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo2.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestRun.java,
	com/redhat/fedora/frysk/proc/TestStep.java,
	com/redhat/fedora/frysk/proc/TestStop.java,
	com/redhat/fedora/frysk/proc/TestStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestSyscall.java,
	com/redhat/fedora/frysk/proc/TestSyscall2.java,
	com/redhat/fedora/frysk/proc/TestSyscallOpen.java,
	com/redhat/fedora/frysk/proc/TestTerminated.java,
	com/redhat/fedora/frysk/proc/TestUnpaused.java: Use.

2005-08-31  Jeff Johnston  <jjohnstn@redhat.com>

	* com/redhat/fedora/frysk/proc/TestAttach.java: Change to not
	use static variables or classes.
	* com/redhat/fedora/frysk/proc/TestAttachCloningThreads.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestAttachThreads.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestExiting.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestGoAndGo.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestI386Modify.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestI386Regs.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestPaused.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestProcStop.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestProcStopAndGo.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestProcStopAndGo2.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestProcStopAndStop.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestStep.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestStop.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestStopAndGo.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestStopAndStop.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestSyscall.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestSyscall2.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestSyscallOpen.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestTerminated.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestUnpaused.java: Ditto.

2005-08-31  Andrew Cagney  <cagney@redhat.com>

	* Makefile.am (frysk-core.jar, frysk-core.db, libfrysk-core.a):
	Delete rules, handled by common/Makefile.gen.sh.

2005-08-31  Tarun Khanna  <tkhanna@redhat.com>

	* com/redhat/fedora/frysk/expr/cpp.g: Minor modifications to
	add custom exception handling in case of parsing errors.
	* com/redhat/fedora/frysk/expr/RunCppParser.java: Cleaned up
	the code to handle exceptions correctly.
	* com/redhat/fedora/frysk/expr/RunCppParser.java: Added custom
	exception handling to handle parsing errors generated due to
	incorrect expressions entered by the users.

2005-08-31  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/TaskState.java: Add method
	processAttachedDestroy, use throughout.

2005-08-30  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/TestRefresh.java: Add
	testRefreshZombie.
	* com/redhat/fedora/frysk/proc/TaskState.java: When requestRemove,
	and a process with no threads, do not remove it from its parent.
	
	* com/redhat/fedora/frysk/proc/Proc.java: Move code removing a
	process with no tasks from here ...
	* com/redhat/fedora/frysk/proc/TaskState.java: ... to here.

	* com/redhat/fedora/frysk/proc/Proc.java: Move calls to
	taskDestroyed.notify from here ...
	* com/redhat/fedora/frysk/proc/TaskState.java: To here.

	* com/redhat/fedora/frysk/proc/Proc.java: Add procDestroyed
	observer.  Change procRemoved to a simple TaskObserver.
	* com/redhat/fedora/frysk/proc/TestAttach.java,
	com/redhat/fedora/frysk/proc/TestAttachThreads.java,
	com/redhat/fedora/frysk/proc/TestExiting.java,
	com/redhat/fedora/frysk/proc/TestLib.java,
	com/redhat/fedora/frysk/proc/TestTerminated.java: Update.
	
	* com/redhat/fedora/frysk/proc/TestI386Modify.java: Disable for
	moment.

2005-08-30  Jeff Johnston  <jjohnstn@redhat.com>

	* com/redhat/fedora/frysk/proc/TestI386Modify.java: Use
	runPolling to put upper limit on time for test to complete.

2005-08-30  Jeff Johnston  <jjohnstn@redhat.com>

	* Makefile.am: Add x86modify test.
	* com/redhat/fedora/frysk/proc/I386Linux.java: Specify
	little-endianness for generic memory.
	* com/redhat/fedora/frysk/proc/Register.java: Add put
	method.
	* com/redhat/fedora/frysk/proc/TestI386Modify.java: New test.
	* prog/x86isa/x86modify.S: New assembler test.

2005-08-30  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/TaskState.java: Rename state "dead"
	to "destroyed".
	* com/redhat/fedora/frysk/proc/TestRefresh.java: Update.

	* com/redhat/fedora/frysk/proc/TestLib.java,
	com/redhat/fedora/frysk/proc/LinuxHost.java: Update to match
	changes to Wait.java, vis rename wait to waitAll, waitNohang to
	waitAllNoHang, signaled to terminated, and zombied to disappeared.

	* com/redhat/fedora/frysk/proc/TestProcGet.java: Add
	testGetCommand.
	* com/redhat/fedora/frysk/proc/Proc.java: Make getCommand abstract.
	* com/redhat/fedora/frysk/proc/LinuxProc.java: Add getStat and
	getCommand.

2005-08-30  Jeff Johnston  <jjohnstn@redhat.com>

	* com/redhat/fedora/frysk/proc/TestLib.java (tearDown): Add
	comments regarding use of SIGCONT.

2005-08-30  Andrew Cagney  <cagney@redhat.com>
	
	* prog/kill/zombie.c: When the child detects that the parent
	has exited, notify the manager.
	* com/redhat/fedora/frysk/proc/TestLib.java: Add
	ZombieChild.fryParent.
	* com/redhat/fedora/frysk/proc/LinuxProc.java: Don't crash when a
	process has no tasks.
	* com/redhat/fedora/frysk/proc/LinuxHost.java: Handle a process
	becomming a daemon (re-parenting).  Refresh all processes not just
	the added ones.
	* com/redhat/fedora/frysk/proc/TestRefresh.java: Add
	testRefreshDaemon.

2005-08-29  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/TestRefresh.java: Add
	"testParentChild".
	* com/redhat/fedora/frysk/proc/Proc.java: Add constructor
	parameterized by Host, ProcId, and Stat.
	* com/redhat/fedora/frysk/proc/LinuxHost.java: Add "updateProc".
	Use LinuxProc.Stat to get the parent ID.  Update a process parent
	first.
	* com/redhat/fedora/frysk/proc/LinuxProc.java: Add "Stat".  Add
	constructor parameterized by Host, ProcId, and Stat.
	
	* com/redhat/fedora/frysk/proc/Linux.java: Break up.
	* com/redhat/fedora/frysk/proc/LinuxProc.java: New.
	* com/redhat/fedora/frysk/proc/LinuxTask.java: New.
	* com/redhat/fedora/frysk/proc/LinuxHost.java,
	com/redhat/fedora/frysk/proc/I386Linux.java,
	com/redhat/fedora/frysk/proc/TestUnpaused.java: Update.

2005-08-26  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/TestLib.java: Make DetachedChild a
	sub-class of DaemonChild.  Add ZombieChild.
	* prog/kill/detach.c (snooze): Add, use.
	* prog/kill/zombie.c: New file.
	* com/redhat/fedora/frysk/proc/TestRefresh.java: Update.

	* com/redhat/fedora/frysk/proc/TestRefresh.java: Add
	testRepeatedHostRefresh.  Add class ChildTracker, use.
	* com/redhat/fedora/frysk/proc/LinuxHost.java: In sendRefresh, use
	a ProcId, instead of TaskId, when searching for a process.

2005-08-26  Jeff Johnston  <jjohnstn@redhat.com>

	* com/redhat/fedora/frysk/proc/TestLib.java (tearDown): Fix
	to wait indefinitely for all events before verifying that
	a particular registered child is gone.
	* com/redhat/fedora/frysk/proc/TestStep.java: Switch over to
	use TestLib registerChild and StopEventLoopOnProcDestroy
	methods.

2005-08-26  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/Id.java: Fix "equals", cast to an
	Id not TaskId.
	* com/redhat/fedora/frysk/proc/Host.java,
	com/redhat/fedora/frysk/proc/HostEvent.java,
	com/redhat/fedora/frysk/proc/HostState.java,
	com/redhat/fedora/frysk/proc/Linux.java,
	com/redhat/fedora/frysk/proc/LinuxHost.java,
	com/redhat/fedora/frysk/proc/Proc.java,
	com/redhat/fedora/frysk/proc/ProcEvent.java,
	com/redhat/fedora/frysk/proc/TaskEvent.java,
	com/redhat/fedora/frysk/proc/TestAttach.java,
	com/redhat/fedora/frysk/proc/TestAttachCloningThreads.java,
	com/redhat/fedora/frysk/proc/TestAttachThreads.java,
	com/redhat/fedora/frysk/proc/TestGoAndGo.java,
	com/redhat/fedora/frysk/proc/TestPaused.java,
	com/redhat/fedora/frysk/proc/TestProcStop.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo2.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestRefresh.java,
	com/redhat/fedora/frysk/proc/TestStop.java,
	com/redhat/fedora/frysk/proc/TestStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestUnpaused.java: Use ProcId instead
	of TaskId where applicable.

	* com/redhat/fedora/frysk/proc/ProcId.java: New.

	* com/redhat/fedora/frysk/proc/Id.java: New file.
	* com/redhat/fedora/frysk/proc/TaskId.java: Extend Id.

	* com/redhat/fedora/frysk/proc/Proc.java: Replace requestAttach,
	and requestDetach with requestAttachedCont, requestAttachedStop
	and requestDetachedCont.
	* com/redhat/fedora/frysk/proc/HostState.java,
	com/redhat/fedora/frysk/proc/LinuxHost.java,
	com/redhat/fedora/frysk/proc/ProcEvent.java,
	com/redhat/fedora/frysk/proc/ProcState.java: Update to match.
	
	* com/redhat/fedora/frysk/proc/Manager.java: Note that
	Host.procAdded and Host.procRemoved are prefered.
	* com/redhat/fedora/frysk/proc/Proc.java: Add taskAdded observer.
	* com/redhat/fedora/frysk/proc/Host.java: Add procAdded and
	procRemoved observers.
	* com/redhat/fedora/frysk/proc/Task.java,
	com/redhat/fedora/frysk/proc/TaskState.java,
	com/redhat/fedora/frysk/proc/TestClone.java,
	com/redhat/fedora/frysk/proc/TestExec.java,
	com/redhat/fedora/frysk/proc/TestFork.java,
	com/redhat/fedora/frysk/proc/TestLib.java,
	com/redhat/fedora/frysk/proc/TestProcGet.java,
	com/redhat/fedora/frysk/proc/TestRefresh.java,
	com/redhat/fedora/frysk/proc/TestRun.java: Use.

2005-08-25  Andrew Cagney  <cagney@redhat.com>

	* Makefile.am (frysk-core.db): Add rules.  Fix name of
	frysk-core.jar, was frysk.core.jar.

2005-08-25  Jeff Johnston  <jjohnstn@redhat.com>

	* com/redhat/fedora/frysk/proc/TestAttachCloningThreads.java: Change
	to use TestLib registerChild and StopEventLoopOnProcDestroy
	methods.
	* com/redhat/fedora/frysk/proc/TestAttach.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestAttachThreads.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestExiting.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestGoAndGo.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestPaused.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestProcStopAndGo2.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestProcStopAndGo.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestProcStopAndStop.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestProcStop.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestStopAndGo.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestStopAndStop.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestStop.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestTerminated.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestUnpaused.java: Ditto plus
	change testcase to properly stop and detach program.
	* com/redhat/fedora/frysk/proc/TestLib.java (tearDown): Add
	issuing a SIGCONT before SIGKILL so that any processes stuck
	with pending SIGSTOPs will get the SIGKILL and die properly.

2005-08-25  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/TestRefresh.java: Add testRefreshAll.
	* com/redhat/fedora/frysk/proc/HostState.java: Pass refreshAll to
	sendRefresh.
	* com/redhat/fedora/frysk/proc/LinuxHost.java: Add refreshAll to
	sendRefresh.
	* com/redhat/fedora/frysk/proc/Host.java: Add refreshAll parameter
	to requestRefresh and sendRefresh.

	* com/redhat/fedora/frysk/proc/TestRefresh.java: Extend
	testProcRefresh to check that the task list tracks task creation
	and deletion.
	* com/redhat/fedora/frysk/proc/Linux.java: Request that any lost
	tasks be removed.  When applicable, create a detached task.
	* com/redhat/fedora/frysk/proc/Task.java: Add "requestRemoval" and
	a detached constructor.
	* com/redhat/fedora/frysk/proc/TaskEvent.java: Add RequestRemoval.
	* com/redhat/fedora/frysk/proc/TaskState.java: Handle
	RequestRemoval.
	* prog/kill/detach.c: Make STDOUT unbuffered.  Except in signal
	handlers, unmask SIGUSR1 and SIGUSR2.

	* com/redhat/fedora/frysk/proc/TestLib.java: For TaskCounter and
	ProcCounter, add LinkedLists "discovered" and "removed" that
	contain the added and removed tasks/procs/.  Change
	numberDiscovered and numberRemoved to methods.
	* com/redhat/fedora/frysk/proc/TestClone.java,
	com/redhat/fedora/frysk/proc/TestExec.java,
	com/redhat/fedora/frysk/proc/TestFork.java,
	com/redhat/fedora/frysk/proc/TestLib.java,
	com/redhat/fedora/frysk/proc/TestRun.java: Update.

	* com/redhat/fedora/frysk/proc/TestLib.java: Refactor
	DetachedChild into Child, DetachedChild, and DaemonChild.
	Implement using prog/kill/detach.
	* prog/kill/detach.c: Add background and polling arguments.

2005-08-24  Andrew Cagney  <cagney@redhat.com>

	* prog/kill/detach.c: New file.

2005-08-24  Jeff Johnston  <jjohnstn@redhat.com>

	* com/redhat/fedora/frysk/proc/TestAttach.java: Fix comments.
	* com/redhat/fedora/frysk/proc/TestPaused.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestProcStopAndGo2.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestUnpaused.java: Ditto.

2005-08-24  Tarun Khanna  <tkhanna@redhat.com>

	* testsuite:  New directory for DejaGNU tests
	* testsuite/expr: New directory to store DejaGNU test scripts 
	for the expression parser.
	* testsuite/expr/CppParser.exp:	New expect test script for testing
	the expression parser.

2005-08-24  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/TestLib.java: Replace WatchForProc
	with PidCounter.  Add DetachedChild.reap.
	* com/redhat/fedora/frysk/proc/TestRefresh.java: Really add file.
	
2005-08-23  Tarun Khanna  <tkhanna@redhat.com>

	* com/redhat/fedora/frysk/expr/RunCppParser: Minor modifications to
	reflect the change of file name.
	* com/redhat/fedora/frysk/expr/RunCppLexer: Ditto

2005-08-23  Jeff Johnston  <jjohnstn@redhat.com>

	* com/redhat/fedora/frysk/proc/TestAttach.java: Switch to JUnit
	and remove println messages.
	* com/redhat/fedora/frysk/proc/TestAttachCloningThreads.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestAttachThreads.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestExiting.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestGoAndGo.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestI386Regs.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestPaused.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestProcStopAndGo2.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestProcStopAndGo.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestProcStopAndStop.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestProcStop.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestStep.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestStopAndGo.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestStopAndStop.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestStop.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestSyscall2.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestSyscall.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestSyscallOpen.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestTerminated.java: Ditto.
	* com/redhat/fedora/frysk/proc/TestUnpaused.java: Ditto.

2005-08-23  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/Manager.java: Replace
	"procDestroyed" with "procRemoved".
	* com/redhat/fedora/frysk/proc/Proc.java: Replace taskDestroyed
	with taskRemoved.
	com/redhat/fedora/frysk/proc/Host.java,
	com/redhat/fedora/frysk/proc/TestAttach.java,
	com/redhat/fedora/frysk/proc/TestAttachCloningThreads.java,
	com/redhat/fedora/frysk/proc/TestAttachThreads.java,
	com/redhat/fedora/frysk/proc/TestClone.java,
	com/redhat/fedora/frysk/proc/TestExec.java,
	com/redhat/fedora/frysk/proc/TestExiting.java,
	com/redhat/fedora/frysk/proc/TestFork.java,
	com/redhat/fedora/frysk/proc/TestGoAndGo.java,
	com/redhat/fedora/frysk/proc/TestI386Regs.java,
	com/redhat/fedora/frysk/proc/TestLib.java,
	com/redhat/fedora/frysk/proc/TestPaused.java,
	com/redhat/fedora/frysk/proc/TestProcStop.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo2.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestRun.java,
	com/redhat/fedora/frysk/proc/TestStep.java,
	com/redhat/fedora/frysk/proc/TestStop.java,
	com/redhat/fedora/frysk/proc/TestStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestSyscall.java,
	com/redhat/fedora/frysk/proc/TestSyscall2.java,
	com/redhat/fedora/frysk/proc/TestSyscallOpen.java,
	com/redhat/fedora/frysk/proc/TestTerminated.java,
	com/redhat/fedora/frysk/proc/TestUnpaused.java,
	prog/util/run.java: Update.

	* com/redhat/fedora/frysk/proc/TestHost.java: Replace with ...
	* com/redhat/fedora/frysk/proc/TestRefresh.java: New file.
	* com/redhat/fedora/frysk/proc/ProcEvent.java: Add RequestRemoval.
	* com/redhat/fedora/frysk/proc/ProcState.java: Add "destroyed"
	state, handle RequestRemoval event.
	* com/redhat/fedora/frysk/proc/LinuxHost.java: Send a RequestRemoval
	message to each removed process.
	* com/redhat/fedora/frysk/proc/TestLib.java: Add WatchForProc.
	Make ProcCounter implement Cloneable, add "save" method.

	* com/redhat/fedora/frysk/proc/TestLib.java: For TaskCounter and
	ProcCounter, rename numberCreated to numberDiscovered.
	* com/redhat/fedora/frysk/proc/TestRun.java,
	com/redhat/fedora/frysk/proc/TestFork.java,
	com/redhat/fedora/frysk/proc/TestClone.java,
	com/redhat/fedora/frysk/proc/TestExec.java: Update.

	* com/redhat/fedora/frysk/proc/Proc.java: Rename taskCreated to
	taskDiscovered.
	* com/redhat/fedora/frysk/proc/TaskState.java,
	com/redhat/fedora/frysk/proc/TestAttach.java,
	com/redhat/fedora/frysk/proc/TestAttachCloningThreads.java,
	com/redhat/fedora/frysk/proc/TestAttachThreads.java,
	com/redhat/fedora/frysk/proc/TestExiting.java,
	com/redhat/fedora/frysk/proc/TestGoAndGo.java,
	com/redhat/fedora/frysk/proc/TestI386Regs.java,
	com/redhat/fedora/frysk/proc/TestLib.java,
	com/redhat/fedora/frysk/proc/TestPaused.java,
	com/redhat/fedora/frysk/proc/TestProcGet.java,
	com/redhat/fedora/frysk/proc/TestProcStop.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo2.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestStep.java,
	com/redhat/fedora/frysk/proc/TestStop.java,
	com/redhat/fedora/frysk/proc/TestStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestSyscall.java,
	com/redhat/fedora/frysk/proc/TestSyscall2.java,
	com/redhat/fedora/frysk/proc/TestSyscallOpen.java,
	com/redhat/fedora/frysk/proc/TestTerminated.java,
	com/redhat/fedora/frysk/proc/TestUnpaused.java,
	prog/util/run.java: Update.

2005-08-22  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/Linux.java: Implement Proc
	.sendRefresh".  In Proc .sendAttach, also add the main task.
	* com/redhat/fedora/frysk/proc/Proc.java: Add requestRefresh, and
	sendRefresh.  In Proc, only add the main task when attached.
	* com/redhat/fedora/frysk/proc/ProcEvent.java: Add RequestRefresh.
	* com/redhat/fedora/frysk/proc/ProcState.java: Handle
	RequestRefresh.
	* com/redhat/fedora/frysk/proc/TestHost.java: Add testProcRefresh.

	* com/redhat/fedora/frysk/proc/TestPaused.java,
	com/redhat/fedora/frysk/proc/TestProcStop.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo2.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestStop.java,
	com/redhat/fedora/frysk/proc/TestStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestUnpaused.java: Compare TaskId
	values, instead of TaskId addresses.

	* com/redhat/fedora/frysk/proc/TestLib.java: Add DetachedChild
	constructor with "clones" parameter.
	* prog/kill/suspend.c (main): Add <clone> command line parameter,
	create <clones> tasks before suspending.

	* com/redhat/fedora/frysk/proc/TestLib.java: In tearDown, discard
	any Errno.Echild when killing processes.

	* com/redhat/fedora/frysk/proc/Manager.java: Rename "procCreated"
	to "procDiscovered".
	* com/redhat/fedora/frysk/proc/Host.java,
	com/redhat/fedora/frysk/proc/TestAttach.java,
	com/redhat/fedora/frysk/proc/TestAttachCloningThreads.java,
	com/redhat/fedora/frysk/proc/TestAttachThreads.java,
	com/redhat/fedora/frysk/proc/TestExiting.java,
	com/redhat/fedora/frysk/proc/TestGoAndGo.java,
	com/redhat/fedora/frysk/proc/TestI386Regs.java,
	com/redhat/fedora/frysk/proc/TestLib.java,
	com/redhat/fedora/frysk/proc/TestPaused.java,
	com/redhat/fedora/frysk/proc/TestProcGet.java,
	com/redhat/fedora/frysk/proc/TestProcStop.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo2.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestStep.java,
	com/redhat/fedora/frysk/proc/TestStop.java,
	com/redhat/fedora/frysk/proc/TestStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestSyscall.java,
	com/redhat/fedora/frysk/proc/TestSyscall2.java,
	com/redhat/fedora/frysk/proc/TestSyscallOpen.java,
	com/redhat/fedora/frysk/proc/TestTerminated.java,
	com/redhat/fedora/frysk/proc/TestUnpaused.java,
	prog/util/run.java: Update.

	* com/redhat/fedora/frysk/event/EventLoop.java: Rename
	TimerEvent's "removeEvent" to "remove".  For "runPolling", remove
	the timer event.
	* com/redhat/fedora/frysk/event/TestEventLoop.java: Update.
	
	* com/redhat/fedora/frysk/event/TestEventLoop.java: Add
	"testSignalHandler".
	* com/redhat/fedora/frysk/event/SignalEvent.java: Add "hashCode"
	and "equals", remove "compareTo".
	* com/redhat/fedora/frysk/event/EventLoop.java: Add "remove" for
	SignalEvent.  Rename "addSignalEvent" to "addHandler", handle
	duplicate handlers.  Rename "signalEvents" to "signalHandlers".
	Add "processSignal".
	* com/redhat/fedora/frysk/proc/TestLib.java: Update.
	* com/redhat/fedora/frysk/proc/LinuxHost.java: Update.

2005-08-19  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/TestHost.java: Don't import
	com.redhat.fedora.frysk.sys.Pid, com.redhat.fedora.frysk.sys.Fork,
	or com.redhat.fedora.frysk.event.SignalEvent.
	* com/redhat/fedora/frysk/proc/TestExec.java: Don't import
	java.util.Observer, or java.util.Observable.

	* com/redhat/fedora/frysk/proc/LinuxHost.java: Add
	PollWaitOnSigChld, based on PollWaitPidEvent.
	* com/redhat/fedora/frysk/proc/Manager.java: Update.
	* com/redhat/fedora/frysk/proc/Linux.java: Delete EventLoop and
	PollWaitPidEvent.

	* com/redhat/fedora/frysk/proc/TaskEvent.java: Delete
	.detachHackXXX.
	* com/redhat/fedora/frysk/proc/TaskState.java: Update.
	* com/redhat/fedora/frysk/proc/TestAttachSuspended.java,
	com/redhat/fedora/frysk/proc/TestDetach.java,
	com/redhat/fedora/frysk/proc/TestDetachThreads.java,
	com/redhat/fedora/frysk/proc/TestReattachThreads.java: Delete.

	* com/redhat/fedora/frysk/proc/TestLib.java: Add DetachedChild.
	* com/redhat/fedora/frysk/proc/TestHost.java: Use DetachedChild.

	* com/redhat/fedora/frysk/proc/Task.java: Add getProc,
	getEntryPointAddress, and getPid.  Make "proc" and "id"
	protected.

2005-08-19  Ivan Pantuyev  <ipantuye@redhat.com>
	
	* com/redhat/fedora/frysk/cli/hpd/doc-files/parsetree.png: New.
	* com/redhat/fedora/frysk/cli/hpd/doc-files/package.html: New.

2005-08-19  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/expr/TestCppParser.java: Rename to ...
	* com/redhat/fedora/frysk/expr/RunCppParser.java: ... this.
	* com/redhat/fedora/frysk/expr/TestCppLexer.java: Rename to ...
	* com/redhat/fedora/frysk/expr/RunCppLexer.java: ... this.

2005-08-18  Andrew Cagney  <cagney@redhat.com>

	* Makefile.am (GEN_CLASSPATH, LDADD): Update, jline moved to
	../frysk-imports/jline.

	* com/redhat/fedora/frysk/proc/TestLib.java: Add ExecCounter.
	* com/redhat/fedora/frysk/proc/TestThreadExec.java: Delete.
	* com/redhat/fedora/frysk/proc/TestExec.java: Merge in
	TestThreadExec, rewrite using JUnit, check that the exec'd program
	did run.

	* com/redhat/fedora/frysk/proc/TestProcGet.java: New.
	* com/redhat/fedora/frysk/proc/TestLib.java: Add TmpFile.getFile.
	* com/redhat/fedora/frysk/proc/TestAuxv.java: Delete.

2005-08-18  Tarun Khanna  <tkhanna@.redhat.com>

	* com/redhat/fedora/frysk/expr: New Directory that contains
	the code for C++ expression parser.  
	* com/redhat/fedora/frysk/expr/cpp.g: New file that contains
	the grammar for parsing c++ expressions.  
	* com/redhat/fedora/frysk/expr/TestCppParser.java: New file to
	test the C++ expression parser.
	* com/redhat/fedora/frysk/expr/TestCppLexer.java: New file to
	test the Lexer for C++ expressions.
	* com/redhat/fedora/frysk/expr/TabException.java: New file that
	contains the class definition for Tab Exception.
	* Makefile.am: Added rules for generation of ANTLR related files
	vis. CppLexer.java, CppParser.java, CppParserTokenTypes.java.
	Added these files to "GEN_SOURCES" and "BIN_SOURCES".

2005-08-18  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/TestClone.java: Delete println
	call, Enable commented out assertEquals calls.
	* com/redhat/fedora/frysk/proc/TestRun.java: Delete unused
	java.io.File import.
	
	* com/redhat/fedora/frysk/proc/TestLib.java: Add TmpFile.
	* com/redhat/fedora/frysk/proc/TestRun.java: Use.

2005-08-17  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/TestLib.java: Add TaskCounter.
	* com/redhat/fedora/frysk/proc/TestFork.java: Delete unused import
	of java.io;
	* com/redhat/fedora/frysk/proc/TestClone.java: Convert to JUnit.

	* prog/kill/suspend.c, prog/kill/loop.c: Use tkill so that the
	signal is delivered to an exact thread.

	* com/redhat/fedora/frysk/proc/TestLib.java: Add Fibonacci.
	* com/redhat/fedora/frysk/proc/TestFork.java: Convert to JUnit,
	simplify.

	* com/redhat/fedora/frysk/proc/TestFork.java: Extend LibTest.
	* com/redhat/fedora/frysk/proc/TestClone.java: Extend LibTest.
	* Makefile.am (GEN_CLASSPATH, LDADD): Add junit.jar and
	libjunit.a.

	* com/redhat/fedora/frysk/proc/TestLib.java: Add ProcCounter.
	* com/redhat/fedora/frysk/proc/TestRun.java: Use.

	* com/redhat/fedora/frysk/proc/TestLib.java: Replace
	addStopEventLoopOnProcDestroy with the class
	StopEventLoopOnProcDestroy.
	* com/redhat/fedora/frysk/proc/TestRun.java: Update.

	* com/redhat/fedora/frysk/proc/Proc.java: Add requestDetach.
	* com/redhat/fedora/frysk/proc/ProcState.java: Handle RequestDetach.
	* com/redhat/fedora/frysk/proc/ProcEvent.java: Add RequestDetach.

2005-08-16  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/TestStep.java,
	com/redhat/fedora/frysk/proc/TaskState.java: Delete calls to
	isNewTaskLeftStopped.
	* com/redhat/fedora/frysk/proc/ProcState.java,
	com/redhat/fedora/frysk/proc/Proc.java: Delete
	isNewTaskLeftStopped.
	
	* com/redhat/fedora/frysk/proc/ProcState.java: Simplify
	"unattached" state, when "running" handle TaskForked.
	* com/redhat/fedora/frysk/proc/Proc.java: Add "attached" parameter
	to constructors, set initial state to "running" when "attached".
	* com/redhat/fedora/frysk/proc/Host.java: Delete "createProc".
	* com/redhat/fedora/frysk/proc/LinuxHost.java,
	com/redhat/fedora/frysk/proc/LinuxHost.java: Update.

	* com/redhat/fedora/frysk/proc/Linux.java: For fork, create both
	ProcEvent.TaskForked and TaskEvent.Forked events.
	* com/redhat/fedora/frysk/proc/ProcState.java: Handke
	ProcEvent.TaskForked.
	* com/redhat/fedora/frysk/proc/ProcEvent.java: Add TaskForked.
	* om/redhat/fedora/frysk/proc/TaskState.java: Do not add the
	forked process.
	
	* com/redhat/fedora/frysk/proc/ProcState.java: Create the new task
	as runnable.
	* com/redhat/fedora/frysk/proc/Task.java: Add "runnable" parameter
	to Task constructor, set "state" accordingly.
	* com/redhat/fedora/frysk/proc/I386Linux.java: Add "runnable"
	parameter to Task constructor.
	* com/redhat/fedora/frysk/proc/Linux.java: Replace "createTask"
	with "newTask" add "runnable" to Task constructor.
	* com/redhat/fedora/frysk/proc/Proc.java: Replace "createTask"
	with "newTask".
	* com/redhat/fedora/frysk/proc/TaskState.java: Replace state
	"starting" with "startRunning" and "startStopped".
	
	* com/redhat/fedora/frysk/proc/Proc.java: Add dummy versions of
	getCommand, and getPid.

	* com/redhat/fedora/frysk/proc/TaskState.java: For Cloned, don't
	add the new task.
	* com/redhat/fedora/frysk/proc/ProcState.java: Handle TaskCloned.
	* com/redhat/fedora/frysk/proc/TaskEvent.java: Add TaskCloned.
	* com/redhat/fedora/frysk/proc/Linux.java: For clone, create both
	ProcEvent.TaskCloned and TaskEvent.cloned events.
	
	* com/redhat/fedora/frysk/proc/TaskEvent.java: Make all variable
	members protected, add public accessors.  Add Task parameterized
	constructor.
	* com/redhat/fedora/frysk/proc/TaskState.java: Update.
	
	* com/redhat/fedora/frysk/proc/TaskEvent.java: Parameterize event
	constructors with the TaskId, find the corresponding task during
	"execute".
	* com/redhat/fedora/frysk/proc/Linux.java: Delete local event
	classes, create TaskEvents, with taskId's, instead.

2005-08-15  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/ProcState.java: Move "go", "stop"
	and AllStopped to the states that they apply to.

	* com/redhat/fedora/frysk/proc/TestLib.java: Add "sigKill" method.
	* com/redhat/fedora/frysk/proc/Task.java: Delete "kill".
	* com/redhat/fedora/frysk/proc/Linux.java: Delete "kill".
	* com/redhat/fedora/frysk/proc/TestAttach.java,
	com/redhat/fedora/frysk/proc/TestAttachCloningThreads.java,
	com/redhat/fedora/frysk/proc/TestAttachThreads.java,
	com/redhat/fedora/frysk/proc/TestDetachThreads.java,
	com/redhat/fedora/frysk/proc/TestExiting.java,
	com/redhat/fedora/frysk/proc/TestPaused.java,
	com/redhat/fedora/frysk/proc/TestReattachThreads.java,
	com/redhat/fedora/frysk/proc/TestTerminated.java,
	com/redhat/fedora/frysk/proc/TestUnpaused.java: Use
	Signal.kill instead.

	* com/redhat/fedora/frysk/proc/TestPsObserver.java: Delete.

2005-08-14  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/ProcEvent.java: Add "unattached"
	state, handle RequestAttach.
	* com/redhat/fedora/frysk/proc/Proc.java: Add "requestAttach" and
	"sendAttach", default "state" to "unattached".
	* com/redhat/fedora/frysk/proc/LinuxHost.java: For
	"sendAttachProc", send the request to the just-created process.
	* com/redhat/fedora/frysk/proc/Linux.java: Add "sendAttach".
	* com/redhat/fedora/frysk/proc/HostState.java: For RequestAttach,
	when the process already exists, just pass the request on.

	* com/redhat/fedora/frysk/proc/ProcEvent.java: Parameterize
	constructors with "proc".
	* com/redhat/fedora/frysk/proc/Proc.java: Delete "process", pass
	"proc" to ProcEvent constructors.
	* com/redhat/fedora/frysk/proc/ProcState.java: Update.

	* com/redhat/fedora/frysk/proc/Host.java: Add "sendAttachProc",
	for "requestAttachProc", append a RequestAttachProc event.
	* com/redhat/fedora/frysk/proc/HostEvent.java: Add
	RequestAttachProc.
	* com/redhat/fedora/frysk/proc/HostState.java: Handle
	RequestAttachProc.
	* com/redhat/fedora/frysk/proc/LinuxHost.java: Replace
	"equestAttachProc" with "sendAttachProc".
	
	* com/redhat/fedora/frysk/proc/Host.java: Replace "attachProc"
	with "requestAttachProc".
	* com/redhat/fedora/frysk/proc/LinuxHost.java: Update.
	* com/redhat/fedora/frysk/proc/TestAttach.java,
	com/redhat/fedora/frysk/proc/TestAttachCloningThreads.java,
	com/redhat/fedora/frysk/proc/TestAttachSuspended.java,
	com/redhat/fedora/frysk/proc/TestAttachThreads.java,
	com/redhat/fedora/frysk/proc/TestDetachThreads.java,
	com/redhat/fedora/frysk/proc/TestGoAndGo.java,
	com/redhat/fedora/frysk/proc/TestPaused.java,
	com/redhat/fedora/frysk/proc/TestProcStop.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo2.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestReattachThreads.java,
	com/redhat/fedora/frysk/proc/TestStop.java,
	com/redhat/fedora/frysk/proc/TestStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestUnpaused.java: Simplify.
	
	* com/redhat/fedora/frysk/proc/LinuxHost.java: Replace
	"createProc" by "sendCreateProc".
	* com/redhat/fedora/frysk/proc/HostState.java: Handle
	"RequestCreateProc".
	* com/redhat/fedora/frysk/proc/HostEvent.java: Add
	"RequestCreateProc".
	* com/redhat/fedora/frysk/proc/Host.java: Replace "createProc"
	with "sendCreateProc" and "requestCreateProc".
	* com/redhat/fedora/frysk/proc/TestAuxv.java,
	com/redhat/fedora/frysk/proc/TestClone.java,
	com/redhat/fedora/frysk/proc/TestDetach.java,
	com/redhat/fedora/frysk/proc/TestExec.java,
	com/redhat/fedora/frysk/proc/TestExiting.java,
	com/redhat/fedora/frysk/proc/TestFork.java,
	com/redhat/fedora/frysk/proc/TestI386Regs.java,
	com/redhat/fedora/frysk/proc/TestRun.java,
	com/redhat/fedora/frysk/proc/TestStep.java,
	com/redhat/fedora/frysk/proc/TestSyscall.java,
	com/redhat/fedora/frysk/proc/TestSyscall2.java,
	com/redhat/fedora/frysk/proc/TestSyscallOpen.java,
	com/redhat/fedora/frysk/proc/TestTerminated.java,
	com/redhat/fedora/frysk/proc/TestThreadExec.java,
	prog/util/run.java: Update.

	* com/redhat/fedora/frysk/proc/Manager.java: Add "resetXXX".
	* com/redhat/fedora/frysk/proc/TestLib.java: Add
	"addStopEventLoopOnProcDestroy", make "tearDown" more robust, have
	"setUp" call "resetXXX".
	* com/redhat/fedora/frysk/proc/TestRun.java: Convert to JUnit.

	* com/redhat/fedora/frysk/event/EventLoop.java: Fix comments.
	
	* com/redhat/fedora/frysk/event/TestEventLoop.java: Fix race
	condition in "testEventLoop", add "testScheduleBeforeRun",
	simplify other tests.
	* com/redhat/fedora/frysk/event/EventLoop.java: Replace "stop"
	with "requestStop".  In "run", process pending events first.
	* com/redhat/fedora/frysk/proc/TestAttach.java,
	com/redhat/fedora/frysk/proc/TestAttachCloningThreads.java,
	com/redhat/fedora/frysk/proc/TestAttachSuspended.java,
	com/redhat/fedora/frysk/proc/TestAttachThreads.java,
	com/redhat/fedora/frysk/proc/TestAuxv.java,
	com/redhat/fedora/frysk/proc/TestClone.java,
	com/redhat/fedora/frysk/proc/TestDetach.java,
	com/redhat/fedora/frysk/proc/TestDetachThreads.java,
	com/redhat/fedora/frysk/proc/TestExec.java,
	com/redhat/fedora/frysk/proc/TestExiting.java,
	com/redhat/fedora/frysk/proc/TestFork.java,
	com/redhat/fedora/frysk/proc/TestGoAndGo.java,
	com/redhat/fedora/frysk/proc/TestHost.java,
	com/redhat/fedora/frysk/proc/TestI386Regs.java,
	com/redhat/fedora/frysk/proc/TestPaused.java,
	com/redhat/fedora/frysk/proc/TestProcStop.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo2.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestPsObserver.java,
	com/redhat/fedora/frysk/proc/TestReattachThreads.java,
	com/redhat/fedora/frysk/proc/TestRun.java,
	com/redhat/fedora/frysk/proc/TestStep.java,
	com/redhat/fedora/frysk/proc/TestStop.java,
	com/redhat/fedora/frysk/proc/TestStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestSyscall.java,
	com/redhat/fedora/frysk/proc/TestSyscall2.java,
	com/redhat/fedora/frysk/proc/TestSyscallOpen.java,
	com/redhat/fedora/frysk/proc/TestTerminated.java,
	com/redhat/fedora/frysk/proc/TestThreadExec.java,
	com/redhat/fedora/frysk/proc/TestUnpaused.java,
	prog/util/run.java: Update.

	* com/redhat/fedora/frysk/proc/TaskEvent.java: Add "execute" to
	all classes.
	* com/redhat/fedora/frysk/proc/Linux.java: Update.
	* com/redhat/fedora/frysk/proc/Task.java: Delete "process".
	* com/redhat/fedora/frysk/proc/LinuxHost.java: Update.
	* com/redhat/fedora/frysk/proc/HostState.java: Update.
	* com/redhat/fedora/frysk/proc/HostEvent.java: Call state.process
	directly.
	* com/redhat/fedora/frysk/proc/Host.java: Rename "refresh" to
	"sendRefresh".  Delete "process".

	* com/redhat/fedora/frysk/proc/Task.java: Add "send" prefix to
	cont, stepi, step, and setOptions.
	* com/redhat/fedora/frysk/proc/Linux.java: Update.
	* com/redhat/fedora/frysk/proc/TaskState.java: Update.
	
2005-08-13  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/Task.java: Make cont, stepi, and
	setOptions return void.
	* com/redhat/fedora/frysk/proc/Task.java: Only return the zombied
	state when a zombied event.
	* com/redhat/fedora/frysk/proc/Linux.java: For cont ,stepi, and
	setOptions, instead of returning -1, append a Zombied event to the
	event queue.
	
	* com/redhat/fedora/frysk/proc/Linux.java: Wrap ptrace calls in
	try catch block.
	
	* com/redhat/fedora/frysk/proc/Linux.java: Delete Proc.attached.
	* com/redhat/fedora/frysk/proc/Host.java: Update.

	* com/redhat/fedora/frysk/proc/TestHost.java: Delete
	junit.framework.TestCase import.
	* com/redhat/fedora/frysk/proc/TestAttachCloningThreads.java:
	Delete com.redhat.fedora.frysk.sys.Signal import.
	* com/redhat/fedora/frysk/cli/hpd/TaskSet.java: Delete
	java.util.Arrays import.

	* Makefile.am: Delete rules for building main, handled by
	common/Makefile.gen.sh.
	* autogen.sh: Add "prog" directory.

	* com/redhat/fedora/frysk/proc/TestLib.java: New.
	* com/redhat/fedora/frysk/proc/TestHost.java: Extend TestLib,
	simplify.

2005-08-13  Ivan Pantuyev <ipantuye@redhat.com>
	
	* Makefile.am: Added support for cli compilation.

2005-08-13  Ivan Pantuyev <ipantuye@redhat.com>
	
	* com/redhat/fedora/frysk/cli/hpd/CLI.java: New.
	* com/redhat/fedora/frysk/cli/hpd/CommandHandler.java: New.
	* com/redhat/fedora/frysk/cli/hpd/PTNode.java: New.
	* com/redhat/fedora/frysk/cli/hpd/ParserHelper.java: New.
	* com/redhat/fedora/frysk/cli/hpd/Preprocessor.java: New.
	* com/redhat/fedora/frysk/cli/hpd/SetNotationParser.java: New.
	* com/redhat/fedora/frysk/cli/hpd/SetParserTest.java: New.
	* com/redhat/fedora/frysk/cli/hpd/TaskSet.java: New.

2005-08-12  Jeff Johnston  <jjohnstn@redhat.com>

	* com/redhat/fedora/frysk/proc/Linux.java (Linux.Task): Change
	cont, stepi, and setOptions methods to return an int.
	(Linux.PollWaitPidEvent): Fix all TaskEvent execute methods to
	verify a task is non-null before accessing its process method.
	(Linux.PollWaitPidEvent.ZombiedTaskEvent): New TaskEvent class.
	* com/redhat/fedora/frysk/proc/Proc.java: Change add (Task) method
	to not notify observers about Task creation.
	* com/redhat/fedora/frysk/proc/PsObserver.java: Comment out
	debugging println.
	* com/redhat/fedora/frysk/proc/Task.java: Add the new Task to
	the Proc at the point of construction.  Change the prototypes
	of the cont, stepi, and setOptions methods to return an int.
	Add new process method to handle a TaskEvent.Zombied event.
	Change the toString method to print out the Task's state.
	* com/redhat/fedora/frysk/proc/TaskEvent.java (TaskEvent.Zombied):
	New class.
	* com/redhat/fedora/frysk/proc/TaskState.java: Add zombied state
	support.  Change every call to Ptrace.cont(), Ptrace.setOptions(),
	and Ptrace.stepi() to check for a return code and to change to
	zombied state should the call fail.  For starting state, the
	first StoppedEvent now results in notifying observers of a newly
	created Task.  Previously, this action added the Task to the
	Proc, but this is now done in Task construction.  Add multiple
	additional process events for starting state.  Add new zombied
	state that waits for termination or exit.
	* com/redhat/fedora/frysk/proc/TestHost.java: Add new zombied
	observer.
	* com/redhat/fedora/frysk/proc/TestPsObserver.java: Change test
	to no longer be threaded and instead use timer support.
	* com/redhat/fedora/frysk/proc/TestAttachCloningThreads.java: New test.

2005-08-12  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/LinuxHost.java: Delete unused
	import of java.util.Set.

2005-08-11  Andrew Cagney  <cagney@redhat.com>

	* Makefile.am (GEN_CLASSPATH): Instead of the frysk-sys.jar file,
	specify the frysk-sys build directory.

2005-08-10  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/TestHost.java: New.
	* com/redhat/fedora/frysk/proc/HostState.java: Handle
	RefreshRequest.
	* com/redhat/fedora/frysk/proc/HostEvent.java: Add sub-class
	RequestRefresh.
	* com/redhat/fedora/frysk/proc/Host.java: Make "state" protected.
	Add abstract method "refresh", and method requestRefresh.

	* com/redhat/fedora/frysk/proc/Host.java: Change procPool to a
	Map, add "getProc" method.

	* com/redhat/fedora/frysk/event/EventLoop.java: Add public methods
	"runPolling" and "runPending", update to use "run".

	* com/redhat/fedora/frysk/proc/Linux.java: Remove "unknown" from
	Wait.Observer.

2005-08-08  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/event/EventLoop.java,
	com/redhat/fedora/frysk/event/TestEventLoop.java: Add removeEvent
	for timer events, test.

	* com/redhat/fedora/frysk/event/Event.java,
	com/redhat/fedora/frysk/event/EventLoop.java,
	com/redhat/fedora/frysk/event/SignalEvent.java,
	com/redhat/fedora/frysk/event/TestEventLoop.java,
	com/redhat/fedora/frysk/event/TimerEvent.java: Add
	support for periodic timers to TimerEvent, test.

	* com/redhat/fedora/frysk/event/EventLoop.java: On creation, clear
	Poll's SignalSet.
	* com/redhat/fedora/frysk/event/TestEventLoop.java: Convert to
	junit.

	* com/redhat/fedora/frysk/proc/HostState.java: New.
	* com/redhat/fedora/frysk/proc/HostEvent.java: New.
	* com/redhat/fedora/frysk/proc/Host.java: Add HostState.

	* com/redhat/fedora/frysk/proc/State.java: New.
	* com/redhat/fedora/frysk/proc/ProcState.java,
	* com/redhat/fedora/frysk/proc/TaskState.java: Extend State.

	* com/redhat/fedora/frysk/proc/Manager.java: Move procSet to...
	* com/redhat/fedora/frysk/proc/Host.java: ... here.
	* com/redhat/fedora/frysk/proc/Proc.java,
	com/redhat/fedora/frysk/proc/TestAttach.java,
	com/redhat/fedora/frysk/proc/TestAttachSuspended.java,
	com/redhat/fedora/frysk/proc/TestAttachThreads.java,
	com/redhat/fedora/frysk/proc/TestDetach.java,
	com/redhat/fedora/frysk/proc/TestDetachThreads.java,
	com/redhat/fedora/frysk/proc/TestExiting.java,
	com/redhat/fedora/frysk/proc/TestGoAndGo.java,
	com/redhat/fedora/frysk/proc/TestI386Regs.java,
	com/redhat/fedora/frysk/proc/TestPaused.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo2.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestProcStop.java,
	com/redhat/fedora/frysk/proc/TestReattachThreads.java,
	com/redhat/fedora/frysk/proc/TestRun.java,
	com/redhat/fedora/frysk/proc/TestStep.java,
	com/redhat/fedora/frysk/proc/TestStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestStop.java,
	com/redhat/fedora/frysk/proc/TestSyscall2.java,
	com/redhat/fedora/frysk/proc/TestSyscall.java,
	com/redhat/fedora/frysk/proc/TestSyscallOpen.java,
	com/redhat/fedora/frysk/proc/TestTerminated.java: Update.

	* com/redhat/fedora/frysk/prog/Frame.java: New.
	* com/redhat/fedora/frysk/prog/Language.java: New.
	* com/redhat/fedora/frysk/prog/LexicalBlock.java: New.
	* com/redhat/fedora/frysk/prog/Location.java: New.
	* com/redhat/fedora/frysk/prog/Subprogram.java: New.
	* com/redhat/fedora/frysk/prog/Thread.java: New.
	* com/redhat/fedora/frysk/prog/Type.java: New.
	* com/redhat/fedora/frysk/prog/Variable.java: New.
	
	* .cvsignore: Add TestJUnits.java.

2005-08-07  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/Linux.java: Delete unused imports.
	* Makefile.am (GEN_CLASSPATH): Add frysk-sys.jar.

	* com/redhat/fedora/frysk/proc/Proc.java: Add "host" to
	constructor.
	* com/redhat/fedora/frysk/proc/Linux.java,
	com/redhat/fedora/frysk/proc/LinuxHost.java: Update.

	* com/redhat/fedora/frysk/proc/Proc.java: Add createTask.
	* com/redhat/fedora/frysk/proc/TaskFactory.java: Delete.
	* com/redhat/fedora/frysk/proc/I386Linux.java
	com/redhat/fedora/frysk/proc/Linux.java
	com/redhat/fedora/frysk/proc/LinuxHost.java
	com/redhat/fedora/frysk/proc/Manager.java
	com/redhat/fedora/frysk/proc/TaskState.java
	com/redhat/fedora/frysk/proc/TestI386Regs.java
	com/redhat/fedora/frysk/proc/TestStep.java
	com/redhat/fedora/frysk/proc/TestSyscallOpen.java: Update.

	* com/redhat/fedora/frysk/proc/Proc.java: Add "host".
	* com/redhat/fedora/frysk/proc/TaskFactory.java: Delete
	createProc, moved to Host.
	* com/redhat/fedora/frysk/proc/Host.java: Add createProc.
	* com/redhat/fedora/frysk/proc/Linux.java,
	com/redhat/fedora/frysk/proc/TaskState.java,
	com/redhat/fedora/frysk/proc/LinuxHost.java: Update.

	* com/redhat/fedora/frysk/proc/Proc.java: Make "parent" private.
	Replace getPid with getTaskId.
	* prog/util/run.java: Update.

	* com/redhat/fedora/frysk/proc/ProcFactory.java: Delete.
	* com/redhat/fedora/frysk/proc/LinuxHost.java: New.
	* com/redhat/fedora/frysk/proc/Manager.java: Replace "procFactory"
	with Host.
	* com/redhat/fedora/frysk/proc/Linux.java: Delete "ProcFactory".
	* com/redhat/fedora/frysk/proc/Host.java,
	com/redhat/fedora/frysk/proc/TestAttach.java,
	com/redhat/fedora/frysk/proc/TestAttachSuspended.java,
	com/redhat/fedora/frysk/proc/TestAttachThreads.java,
	com/redhat/fedora/frysk/proc/TestAuxv.java,
	com/redhat/fedora/frysk/proc/TestClone.java,
	com/redhat/fedora/frysk/proc/TestDetach.java,
	com/redhat/fedora/frysk/proc/TestDetachThreads.java,
	com/redhat/fedora/frysk/proc/TestExec.java,
	com/redhat/fedora/frysk/proc/TestExiting.java,
	com/redhat/fedora/frysk/proc/TestFork.java,
	com/redhat/fedora/frysk/proc/TestGoAndGo.java,
	com/redhat/fedora/frysk/proc/TestI386Regs.java,
	com/redhat/fedora/frysk/proc/TestPaused.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo2.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestProcStop.java,
	com/redhat/fedora/frysk/proc/TestReattachThreads.java,
	com/redhat/fedora/frysk/proc/TestRun.java,
	com/redhat/fedora/frysk/proc/TestStep.java,
	com/redhat/fedora/frysk/proc/TestStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestStop.java,
	com/redhat/fedora/frysk/proc/TestSyscall2.java,
	com/redhat/fedora/frysk/proc/TestSyscall.java,
	com/redhat/fedora/frysk/proc/TestSyscallOpen.java,
	com/redhat/fedora/frysk/proc/TestTerminated.java,
	com/redhat/fedora/frysk/proc/TestThreadExec.java,
	com/redhat/fedora/frysk/proc/TestUnpaused.java,
	prog/util/run.java: Update.

2005-08-06  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/Host.java: New.

	* com/redhat/fedora/frysk/proc/EventLoop.java: Delete.
	* com/redhat/fedora/frysk/proc/Linux.java: Extend event.EventLoop
	instead of proc.EventLoop.
	* com/redhat/fedora/frysk/proc/Manager.java: Update.

2005-08-05  Andrew Cagney  <cagney@redhat.com>

	* Makefile.am (SUFFIXES, BUILT_SOURCES, CLEANFILES)
	(noinst_PROGRAMS, bin_PROGRAMS, noinst_LIBRARIES, LDADD)
	(check_SCRIPTS, TESTS, AM_LDFLAGS, AM_GCJFLAGS, AM_CXXFLAGS):
	Delete defaults, moved to common/Makefile.rules.

	* .classpath: Replace frysk-sys.jar with ../frysk-sys.
	
	Fix problems building under eclipse.
	* .classpath, .project: New.
	* com/redhat/fedora/frysk/event/.cvsignore: New.
	* com/redhat/fedora/frysk/model/.cvsignore: New.
	* com/redhat/fedora/frysk/proc/.cvsignore: New.
	* prog/util/.cvsignore: New.
	* com/redhat/fedora/frysk/event/EventLoop.java,
	com/redhat/fedora/frysk/proc/EventLoop.java,
	com/redhat/fedora/frysk/proc/Linux.java,
	com/redhat/fedora/frysk/proc/Manager.java,
	com/redhat/fedora/frysk/proc/ProcFactory.java,
	com/redhat/fedora/frysk/proc/PsObserver.java,
	com/redhat/fedora/frysk/proc/TestGoAndGo.java,
	prog/util/run.java: Fix ECJ build errors.

	* com/redhat/fedora/frysk/proc/Linux.java: Clean up imports -
	explicitly import Wait, File, Iterator, and Collection.

2005-08-04  Andrew Cagney  <cagney@redhat.com>

	* Makefile.am (noinst_PROGRAMS): Add prog/kill/suspend and
	prog/kill/loop.
	* prog/kill/suspend.c: New file.
	* prog/kill/loop.c: New file.

	* com/redhat/fedora/frysk/proc/AllStoppedProcEvent.java: Delete.
	* com/redhat/fedora/frysk/proc/ProcEvent.java: Add
	AllStopped sub-class.
	* com/redhat/fedora/frysk/proc/Proc.java,
	com/redhat/fedora/frysk/proc/ProcState.java,
	com/redhat/fedora/frysk/proc/TestProcStop.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo2.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestStep.java: Update.
	
2005-08-03  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/ProcState.java: New file.
	* com/redhat/fedora/frysk/proc/Proc.java: Copy state code to
	ProcState.

	* com/redhat/fedora/frysk/proc/ClonedTaskEvent.java,
	com/redhat/fedora/frysk/proc/ExecedTaskEvent.java,
	com/redhat/fedora/frysk/proc/ExitedTaskEvent.java,
	com/redhat/fedora/frysk/proc/ExitingTaskEvent.java,
	com/redhat/fedora/frysk/proc/ForkedTaskEvent.java,
	com/redhat/fedora/frysk/proc/RequestGoTaskEvent.java,
	com/redhat/fedora/frysk/proc/RequestStepiTaskEvent.java,
	com/redhat/fedora/frysk/proc/RequestStopTaskEvent.java,
	com/redhat/fedora/frysk/proc/SignaledTaskEvent.java,
	com/redhat/fedora/frysk/proc/StoppedTaskEvent.java,
	com/redhat/fedora/frysk/proc/SyscallTaskEvent.java,
	com/redhat/fedora/frysk/proc/TerminatedTaskEvent.java,
	com/redhat/fedora/frysk/proc/TrappedTaskEvent.java: Delete ...
	* com/redhat/fedora/frysk/proc/TaskEvent.java: .. moved into here.
	* com/redhat/fedora/frysk/proc/Linux.java,
	com/redhat/fedora/frysk/proc/Task.java,
	com/redhat/fedora/frysk/proc/TaskState.java,
	com/redhat/fedora/frysk/proc/TestAttach.java,
	com/redhat/fedora/frysk/proc/TestAttachSuspended.java,
	com/redhat/fedora/frysk/proc/TestAttachThreads.java,
	com/redhat/fedora/frysk/proc/TestDetach.java,
	com/redhat/fedora/frysk/proc/TestDetachThreads.java,
	com/redhat/fedora/frysk/proc/TestExiting.java,
	com/redhat/fedora/frysk/proc/TestGoAndGo.java,
	com/redhat/fedora/frysk/proc/TestI386Regs.java,
	com/redhat/fedora/frysk/proc/TestPaused.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo2.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestProcStop.java,
	com/redhat/fedora/frysk/proc/TestReattachThreads.java,
	com/redhat/fedora/frysk/proc/TestStep.java,
	com/redhat/fedora/frysk/proc/TestStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestStop.java,
	com/redhat/fedora/frysk/proc/TestSyscall2.java,
	com/redhat/fedora/frysk/proc/TestSyscall.java,
	com/redhat/fedora/frysk/proc/TestSyscallOpen.java,
	com/redhat/fedora/frysk/proc/TestTerminated.java,
	com/redhat/fedora/frysk/proc/TestUnpaused.java: Update.

	* com/redhat/fedora/frysk/proc/TaskState.java: New file.
	* com/redhat/fedora/frysk/proc/Task.java: Move state machine to
	TaskState.
	* com/redhat/fedora/frysk/proc/TestUnpaused.java,
	com/redhat/fedora/frysk/proc/TestPaused.java,
	com/redhat/fedora/frysk/proc/TestStop.java,
	com/redhat/fedora/frysk/proc/TestStopAndStop.java: Update.

2005-08-02  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/Task.java: Delete unused variables
	startRequest, stopRequest, and stepRequest from the state machine.

	* com/redhat/fedora/frysk/proc/Linux.java,
	com/redhat/fedora/frysk/proc/Task.java: Delete stopTask, make
	operation names consistent.
	* com/redhat/fedora/frysk/proc/TestAttach.java,
	com/redhat/fedora/frysk/proc/TestAttachThreads.java,
	com/redhat/fedora/frysk/proc/TestDetachThreads.java,
	com/redhat/fedora/frysk/proc/TestExiting.java,
	com/redhat/fedora/frysk/proc/TestPaused.java,
	com/redhat/fedora/frysk/proc/TestReattachThreads.java,
	com/redhat/fedora/frysk/proc/TestTerminated.java,
	com/redhat/fedora/frysk/proc/TestUnpaused.java: Update.

	* com/redhat/fedora/frysk/proc/RequestStepiTaskEvent.java: New.
	* com/redhat/fedora/frysk/proc/Task.java: Replace "step" with
	"requestStepi".  Inject a RequestStepiTaskEvent into the event
	queue and handle in the state machine.
	* com/redhat/fedora/frysk/proc/TestStep.java: Update.

	* com/redhat/fedora/frysk/proc/RequestGoTaskEvent.java: New.
	* com/redhat/fedora/frysk/proc/Task.java: Replace "go" with
	"requestGo".  Inject a RequestGoTaskEvent into the event queue and
	handle in the state machine.
	* com/redhat/fedora/frysk/proc/TestUnpaused.java,
	com/redhat/fedora/frysk/proc/TestGoAndGo.java,
	com/redhat/fedora/frysk/proc/TestStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestGoAndGo.java,
	com/redhat/fedora/frysk/proc/TestStep.java,
	com/redhat/fedora/frysk/proc/Proc.java: Update.

	* com/redhat/fedora/frysk/proc/RequestStopTaskEvent.java: New.
	* com/redhat/fedora/frysk/proc/Task.java: Replace "stop" with
	"requestStop".  Inject a RequestStopTaskEvent into the event queue
	and handle in the state machine.
	* com/redhat/fedora/frysk/proc/TestUnpaused.java,
	com/redhat/fedora/frysk/proc/TestPaused.java,
	com/redhat/fedora/frysk/proc/TestStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestStop.java,
	com/redhat/fedora/frysk/proc/TestStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestGoAndGo.java,
	com/redhat/fedora/frysk/proc/Proc.java: Update.

2005-08-01  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/Linux.java: Convert SIGSTOP into
	StoppedTaskEvent.
	* com/redhat/fedora/frysk/proc/TestDetachThreads.java,
	com/redhat/fedora/frysk/proc/TestDetach.java,
	com/redhat/fedora/frysk/proc/TestAttachSuspended.java: Check for
	StoppedTaskEvent instead of SignaledTaskEvent.
	* com/redhat/fedora/frysk/proc/Task.java: Handle StoppedTaskEvent.
	* com/redhat/fedora/frysk/proc/StoppedTaskEvent.java: Add member
	detachHackXXX.
	* com/redhat/fedora/frysk/proc/TestReattachThreads.java: Simplify.
	
	* com/redhat/fedora/frysk/proc/TestSyscallOpen.java,
	com/redhat/fedora/frysk/proc/TestSyscall.java: Instead of
	SignaledTaskEvent, check for TrappedTaskEvent.
	* com/redhat/fedora/frysk/proc/Proc.java,
	com/redhat/fedora/frysk/proc/TestStep.java: Instead of
	SignaledTaskEvent, cast to TaskEvent,
	* com/redhat/fedora/frysk/proc/Task.java: For State, handle
	TrappedTaskEvent, delete unnecessary SignalledTaskEvent cases.
	* com/redhat/fedora/frysk/proc/Linux.java: For stop with SIGTRAP,
	create a TrappedTaskEvent.

2005-07-31  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/Linux.java: Parameterize the
	TaskEvent constructors.

	* com/redhat/fedora/frysk/proc/Task.java: For State, add "name"
	 member, set using an explicit constructor parameter.  Clean up
	 toString methods.

	* com/redhat/fedora/frysk/proc/Linux.java: Delete the one
	parameter "stopped" observer.

	* com/redhat/fedora/frysk/proc/Task.java: Add "process" methods
	for SignaledTaskEvent and TrappedTaskEvent.
	* com/redhat/fedora/frysk/proc/Linux.java: Add local
	SignaledTaskEvent and TrappedTaskEvent methods.

	* com/redhat/fedora/frysk/proc/SignaledTaskEvent.java: New.
	* com/redhat/fedora/frysk/proc/TrappedTaskEvent.java: New.
	* com/redhat/fedora/frysk/proc/Linux.java,
	com/redhat/fedora/frysk/proc/Proc.java,
	com/redhat/fedora/frysk/proc/StoppedTaskEvent.java,
	com/redhat/fedora/frysk/proc/Task.java,
	com/redhat/fedora/frysk/proc/TestAttachSuspended.java,
	com/redhat/fedora/frysk/proc/TestDetach.java,
	com/redhat/fedora/frysk/proc/TestDetachThreads.java,
	com/redhat/fedora/frysk/proc/TestI386Regs.java,
	com/redhat/fedora/frysk/proc/TestReattachThreads.java,
	com/redhat/fedora/frysk/proc/TestStep.java,
	com/redhat/fedora/frysk/proc/TestSyscall.java,
	com/redhat/fedora/frysk/proc/TestSyscallOpen.java,
	com/redhat/fedora/frysk/proc/TestUnpaused.java: Replace
	StoppedTaskEvent with SignaledTaskEvent.

	* com/redhat/fedora/frysk/proc/ClonedTaskEvent.java,
	com/redhat/fedora/frysk/proc/ExecedTaskEvent.java,
	com/redhat/fedora/frysk/proc/ExitedTaskEvent.java,
	com/redhat/fedora/frysk/proc/ExitingTaskEvent.java,
	com/redhat/fedora/frysk/proc/ForkedTaskEvent.java,
	com/redhat/fedora/frysk/proc/StoppedTaskEvent.java,
	com/redhat/fedora/frysk/proc/SyscallTaskEvent.java,
	com/redhat/fedora/frysk/proc/TaskEvent.java,
	com/redhat/fedora/frysk/proc/TerminatedTaskEvent.java: Delete
	unnecessary public constructor and unused "execute" method.
	* com/redhat/fedora/frysk/proc/EventLoop.java: Delete unused
	TaskEvent instances.

2005-07-30  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/Linux.java,
	com/redhat/fedora/frysk/proc/Task.java: Delete "isTrapSig" and
	"isStopSig".

	* com/redhat/fedora/frysk/proc/SysUtils.Java,
	com/redhat/fedora/frysk/proc/cni/SysUtils.cxx: Delete files,
	signal functions replaced by sys.Sig.
	* com/redhat/fedora/frysk/proc/Linux.java,
	com/redhat/fedora/frysk/proc/Task.java,
	com/redhat/fedora/frysk/proc/TestAttach.java,
	com/redhat/fedora/frysk/proc/TestAttachThreads.java,
	com/redhat/fedora/frysk/proc/TestDetach.java,
	com/redhat/fedora/frysk/proc/TestDetachThreads.java,
	com/redhat/fedora/frysk/proc/TestExiting.java,
	com/redhat/fedora/frysk/proc/TestPaused.java,
	com/redhat/fedora/frysk/proc/TestProcStop.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo2.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestReattachThreads.java,
	com/redhat/fedora/frysk/proc/TestStep.java,
	com/redhat/fedora/frysk/proc/TestStop.java,
	com/redhat/fedora/frysk/proc/TestStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestTerminated.java,
	com/redhat/fedora/frysk/proc/TestUnpaused.java: Use sys.Sig.

	* com/redhat/fedora/frysk/proc/SysUtils.java,
	com/redhat/fedora/frysk/proc/cni/SysUtils.cxx: Delete "infLoop",
	"infThreadLoop", and "suspendedProg"; moved to sys.XXX.
	* com/redhat/fedora/frysk/proc/TestDetachThreads.java,
	com/redhat/fedora/frysk/proc/TestUnpaused.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo2.java,
	com/redhat/fedora/frysk/proc/TestReattachThreads.java,
	com/redhat/fedora/frysk/proc/TestAttachThreads.java,
	com/redhat/fedora/frysk/proc/TestAttach.java,
	com/redhat/fedora/frysk/proc/TestProcStop.java,
	com/redhat/fedora/frysk/proc/TestPaused.java,
	com/redhat/fedora/frysk/proc/TestStop.java,
	com/redhat/fedora/frysk/proc/TestStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestAttachSuspended.java,
	com/redhat/fedora/frysk/proc/TestGoAndGo.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo.java: Update to
	use sys.XXX.

	* com/redhat/fedora/frysk/proc/SysUtils.java,
	com/redhat/fedora/frysk/proc/cni/SysUtils.cxx: Delete "kill" and
	"tkill".
	* com/redhat/fedora/frysk/proc/TestAttachSuspended.java,
	com/redhat/fedora/frysk/proc/TestDetach.java,
	com/redhat/fedora/frysk/proc/TestDetachThreads.java,
	com/redhat/fedora/frysk/proc/TestGoAndGo.java,
	com/redhat/fedora/frysk/proc/TestPaused.java,
	com/redhat/fedora/frysk/proc/TestProcStop.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndGo2.java,
	com/redhat/fedora/frysk/proc/TestProcStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestReattachThreads.java,
	com/redhat/fedora/frysk/proc/TestStep.java,
	com/redhat/fedora/frysk/proc/TestStop.java,
	com/redhat/fedora/frysk/proc/TestStopAndGo.java,
	com/redhat/fedora/frysk/proc/TestStopAndStop.java,
	com/redhat/fedora/frysk/proc/TestUnpaused.java: Use Signal.kill.

	* com/redhat/fedora/frysk/proc/cni/SysUtils.cxx,
	com/redhat/fedora/frysk/proc/SysUtils.java: Add sigchld.
	* com/redhat/fedora/frysk/proc/Linux.java: Use SysUtils.
	* com/redhat/fedora/frysk/proc/cni/Linux.cxx: Delete.
	
	* com/redhat/fedora/frysk/proc/cni/Linux.cxx: Don't include
	"com/redhat/fedora/frysk/proc/Linux$EventLoop$WaitEvent.h".

2005-07-29  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/proc/cni/Linux.cxx: Delete
	"WaitEvet.execute" and corresponding support routines.
	* com/redhat/fedora/frysk/proc/Linux.java: Replace WaitEvent
	observer with individual Wait.Observer's.

2005-07-28  Andrew Cagney  <cagney@redhat.com>
	    Jeff Johnston  <jjohnstn@redhat.com>
	    Sami Wagiaalla  <swagiaal@redhat.com>
	
	* Makefile.am (prog_perf_clone_SOURCES, prog_perf_clone_LDADD) 
	(prog_perf_fork_SOURCES, prog_perf_fork_LDADD) 
	(prog_fib_clone_SOURCES, prog_fib_clone_LDADD) 
	(prog_fib_fork_SOURCES, prog_print_argv_SOURCES) 
	(prog_print_auxv_SOURCES, prog_print_argc_SOURCES) 
	(prog_syscall_syscalls_SOURCES, prog_print_envp_SOURCES) 
	(prog_step_infThreadLoop_SOURCES, prog_step_infThreadLoop_LDADD) 
	(prog_syscall_exec_SOURCES, prog_syscall_threadexec_SOURCES) 
	(prog_syscall_threadexec_SOURCES, prog_syscall_threadexec_LDADD) 
	(prog_syscall_syscallloop_SOURCES, noinst_PROGRAMS) 
	(prog_terminated_infloop_SOURCES, prog_x86isa_x86regs_SOURCES) 
	(prog_util_auxv_SOURCES, prog_util_run_SOURCES): Define.
	(AM_GCJFLAGS): Include from frysk-sys's build directory.
	* com/redhat/fedora/frysk/proc/AllStoppedProcEvent.java: New file.
	* com/redhat/fedora/frysk/proc/Auxv.java: New file.
	* com/redhat/fedora/frysk/proc/ByteOrder.java: New file.
	* com/redhat/fedora/frysk/proc/ClonedTaskEvent.java: New file.
	* com/redhat/fedora/frysk/proc/EventLoop.java: New file.
	* com/redhat/fedora/frysk/proc/ExecedTaskEvent.java: New file.
	* com/redhat/fedora/frysk/proc/ExitedTaskEvent.java: New file.
	* com/redhat/fedora/frysk/proc/ExitingTaskEvent.java: New file.
	* com/redhat/fedora/frysk/proc/ForkedTaskEvent.java: New file.
	* com/redhat/fedora/frysk/proc/I386Linux.java: New file.
	* com/redhat/fedora/frysk/proc/Isa.java: New file.
	* com/redhat/fedora/frysk/proc/Linux.java: New file.
	* com/redhat/fedora/frysk/proc/Manager.java: New file.
	* com/redhat/fedora/frysk/proc/PowerPcLinux.java: New file.
	* com/redhat/fedora/frysk/proc/Proc.java: New file.
	* com/redhat/fedora/frysk/proc/ProcEvent.java: New file.
	* com/redhat/fedora/frysk/proc/ProcEventObservable.java: New file.
	* com/redhat/fedora/frysk/proc/ProcFactory.java: New file.
	* com/redhat/fedora/frysk/proc/PsEvent.java: New file.
	* com/redhat/fedora/frysk/proc/PsListener.java: New file.
	* com/redhat/fedora/frysk/proc/PsObserver.java: New file.
	* com/redhat/fedora/frysk/proc/Register.java: New file.
	* com/redhat/fedora/frysk/proc/StoppedTaskEvent.java: New file.
	* com/redhat/fedora/frysk/proc/SysUtils.java: New file.
	* com/redhat/fedora/frysk/proc/Syscall.java: New file.
	* com/redhat/fedora/frysk/proc/SyscallEventInfo.java: New file.
	* com/redhat/fedora/frysk/proc/SyscallTaskEvent.java: New file.
	* com/redhat/fedora/frysk/proc/Task.java: New file.
	* com/redhat/fedora/frysk/proc/TaskEvent.java: New file.
	* com/redhat/fedora/frysk/proc/TaskEventObservable.java: New file.
	* com/redhat/fedora/frysk/proc/TaskFactory.java: New file.
	* com/redhat/fedora/frysk/proc/TaskId.java: New file.
	* com/redhat/fedora/frysk/proc/TerminatedTaskEvent.java: New file.
	* com/redhat/fedora/frysk/proc/TestAttach.java: New file.
	* com/redhat/fedora/frysk/proc/TestAttachSuspended.java: New file.
	* com/redhat/fedora/frysk/proc/TestAttachThreads.java: New file.
	* com/redhat/fedora/frysk/proc/TestAuxv.java: New file.
	* com/redhat/fedora/frysk/proc/TestClone.java: New file.
	* com/redhat/fedora/frysk/proc/TestDetach.java: New file.
	* com/redhat/fedora/frysk/proc/TestDetachThreads.java: New file.
	* com/redhat/fedora/frysk/proc/TestExec.java: New file.
	* com/redhat/fedora/frysk/proc/TestExiting.java: New file.
	* com/redhat/fedora/frysk/proc/TestFork.java: New file.
	* com/redhat/fedora/frysk/proc/TestGoAndGo.java: New file.
	* com/redhat/fedora/frysk/proc/TestI386Regs.java: New file.
	* com/redhat/fedora/frysk/proc/TestPaused.java: New file.
	* com/redhat/fedora/frysk/proc/TestProcStop.java: New file.
	* com/redhat/fedora/frysk/proc/TestProcStopAndGo.java: New file.
	* com/redhat/fedora/frysk/proc/TestProcStopAndGo2.java: New file.
	* com/redhat/fedora/frysk/proc/TestProcStopAndStop.java: New file.
	* com/redhat/fedora/frysk/proc/TestPsObserver.java: New file.
	* com/redhat/fedora/frysk/proc/TestReattachThreads.java: New file.
	* com/redhat/fedora/frysk/proc/TestRun.java: New file.
	* com/redhat/fedora/frysk/proc/TestStep.java: New file.
	* com/redhat/fedora/frysk/proc/TestStop.java: New file.
	* com/redhat/fedora/frysk/proc/TestStopAndGo.java: New file.
	* com/redhat/fedora/frysk/proc/TestStopAndStop.java: New file.
	* com/redhat/fedora/frysk/proc/TestSyscall.java: New file.
	* com/redhat/fedora/frysk/proc/TestSyscall2.java: New file.
	* com/redhat/fedora/frysk/proc/TestSyscallOpen.java: New file.
	* com/redhat/fedora/frysk/proc/TestTerminated.java: New file.
	* com/redhat/fedora/frysk/proc/TestThreadExec.java: New file.
	* com/redhat/fedora/frysk/proc/TestUnpaused.java: New file.
	* com/redhat/fedora/frysk/proc/X8664Linux.java: New file.
	* com/redhat/fedora/frysk/proc/cni/Linux.cxx: New file.
	* com/redhat/fedora/frysk/proc/cni/SysUtils.cxx: New file.
	* include/linux.ptrace.h: New file.
	* prog/fib/clone.c: New file.
	* prog/fib/fork.c: New file.
	* prog/perf/README: New file.
	* prog/perf/clone.c: New file.
	* prog/perf/clone.sh: New file.
	* prog/perf/fork.c: New file.
	* prog/print/argc.c: New file.
	* prog/print/argv.c: New file.
	* prog/print/auxv.c: New file.
	* prog/print/envp.c: New file.
	* prog/step/infThreadLoop.c: New file.
	* prog/syscall/exec.c: New file.
	* prog/syscall/syscallloop.c: New file.
	* prog/syscall/syscalls.c: New file.
	* prog/syscall/threadexec.c: New file.
	* prog/terminated/infloop.c: New file.
	* prog/util/auxv.java: New file.
	* prog/util/run.java: New file.
	* prog/x86isa/x86regs.S: New file.
	* include/linux.ptrace.h: New file (copied from the Linux kernel
	headers)

2005-07-27  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/event/EventLoop.java: Update to use the
	static Poll.SignalSet methods.

2005-07-26  Andrew Cagney  <cagney@redhat.com>

	* Makefile.am (LDADD): Refer to frysk-sys, not Sys.

2005-07-22  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/model/RegisterSet.java: Remove reference
	to package proc.
	* configure.ac: New file.
	* Makefile.am: New file.
	* autogen.sh: New file.
	* .cvsignore: New file.
		
2005-07-21  Andrew Cagney  <cagney@redhat.com>

	* com/redhat/fedora/frysk/event/Event.java: New file.
	* com/redhat/fedora/frysk/event/EventLoop.java: New file.
	* com/redhat/fedora/frysk/event/PollEvent.java: New file.
	* com/redhat/fedora/frysk/event/SignalEvent.java: New file.
	* com/redhat/fedora/frysk/event/TestEventLoop.java: New file.
	* com/redhat/fedora/frysk/event/TimerEvent.java: New file.
	* com/redhat/fedora/frysk/model/Abi.java: New file.
	* com/redhat/fedora/frysk/model/Action.java: New file.
	* com/redhat/fedora/frysk/model/Address.java: New file.
	* com/redhat/fedora/frysk/model/Block.java: New file.
	* com/redhat/fedora/frysk/model/Breakpoint.java: New file.
	* com/redhat/fedora/frysk/model/Cli.java: New file.
	* com/redhat/fedora/frysk/model/Command.java: New file.
	* com/redhat/fedora/frysk/model/Condition.java: New file.
	* com/redhat/fedora/frysk/model/Corefile.java: New file.
	* com/redhat/fedora/frysk/model/Cwd.java: New file.
	* com/redhat/fedora/frysk/model/DebugInfo.java: New file.
	* com/redhat/fedora/frysk/model/DebugSymbol.java: New file.
	* com/redhat/fedora/frysk/model/Debuginfo.java: New file.
	* com/redhat/fedora/frysk/model/Event.java: New file.
	* com/redhat/fedora/frysk/model/Exception.java: New file.
	* com/redhat/fedora/frysk/model/Expression.java: New file.
	* com/redhat/fedora/frysk/model/File.java: New file.
	* com/redhat/fedora/frysk/model/Frame.java: New file.
	* com/redhat/fedora/frysk/model/Function.java: New file.
	* com/redhat/fedora/frysk/model/Futex.java: New file.
	* com/redhat/fedora/frysk/model/Gui.java: New file.
	* com/redhat/fedora/frysk/model/HeaderFile.java: New file.
	* com/redhat/fedora/frysk/model/Language.java: New file.
	* com/redhat/fedora/frysk/model/LineTable.java: New file.
	* com/redhat/fedora/frysk/model/Location.java: New file.
	* com/redhat/fedora/frysk/model/Map.java: New file.
	* com/redhat/fedora/frysk/model/MemoryLocation.java: New file.
	* com/redhat/fedora/frysk/model/Method.java: New file.
	* com/redhat/fedora/frysk/model/Mi.java: New file.
	* com/redhat/fedora/frysk/model/MinimalSymbol.java: New file.
	* com/redhat/fedora/frysk/model/Mutex.java: New file.
	* com/redhat/fedora/frysk/model/ObjectFile.java: New file.
	* com/redhat/fedora/frysk/model/Operand.java: New file.
	* com/redhat/fedora/frysk/model/Operator.java: New file.
	* com/redhat/fedora/frysk/model/Pie.java: New file.
	* com/redhat/fedora/frysk/model/PosixThread.java: New file.
	* com/redhat/fedora/frysk/model/Program.java: New file.
	* com/redhat/fedora/frysk/model/Protocol.java: New file.
	* com/redhat/fedora/frysk/model/RegisterLocation.java: New file.
	* com/redhat/fedora/frysk/model/RegisterSet.java: New file.
	* com/redhat/fedora/frysk/model/Section.java: New file.
	* com/redhat/fedora/frysk/model/Segment.java: New file.
	* com/redhat/fedora/frysk/model/Semaphore.java: New file.
	* com/redhat/fedora/frysk/model/SharedLibrary.java: New file.
	* com/redhat/fedora/frysk/model/Signal.java: New file.
	* com/redhat/fedora/frysk/model/SourceFile.java: New file.
	* com/redhat/fedora/frysk/model/Stack.java: New file.
	* com/redhat/fedora/frysk/model/State.java: New file.
	* com/redhat/fedora/frysk/model/Symbol.java: New file.
	* com/redhat/fedora/frysk/model/SymbolTable.java: New file.
	* com/redhat/fedora/frysk/model/Terminal.java: New file.
	* com/redhat/fedora/frysk/model/Thread.java: New file.
	* com/redhat/fedora/frysk/model/Tracepoint.java: New file.
	* com/redhat/fedora/frysk/model/Type.java: New file.
	* com/redhat/fedora/frysk/model/Variable.java: New file.
	* com/redhat/fedora/frysk/model/Watchpoint.java: New file.
